<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content=[ hakcettyu&#x27;s note&quot;]&quot;><meta name=author content=hackettyu><link href=https://hackettyu.com/latest/docs/books/ISBN-9787508648286/ rel=canonical><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.2.2, mkdocs-material-7.2.3"><title>SRE - hackettyu's blog</title><link rel=stylesheet href=../../../assets/stylesheets/main.f7f47774.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.3f5d1f46.min.css><meta name=theme-color content=#ffffff><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Noto+Sans+SC:300,400,400i,700%7CFira+Code&display=fallback"><style>:root{--md-text-font-family:"Noto Sans SC";--md-code-font-family:"Fira Code"}</style><link rel=stylesheet href=/css/termynal.css><link rel=stylesheet href=/css/custom.css><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-146236033-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-scheme=preference data-md-color-primary=white data-md-color-accent=indigo> <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#_1 class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="hackettyu's blog" class="md-header__button md-logo" aria-label="hackettyu's blog" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> hackettyu's blog </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> SRE </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08z"/></svg> </a> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/hackettyu/hackettyu-mkdocs-material/ title="前往 GitHub 仓库" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> hackettyu/hackettyu-mkdocs-material </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../2018-12-15-switch-eclipse-version/ class=md-tabs__link> 2018 </a> </li> <li class=md-tabs__item> <a href=../../../2019-02-16-javascript-error-msg/ class=md-tabs__link> 2019 </a> </li> <li class=md-tabs__item> <a href=../../../2020-09-14-awosome-command-line-slide/ class=md-tabs__link> 2020 </a> </li> <li class=md-tabs__item> <a href=../../../2021-02-02-abap-rest-use-library/ class=md-tabs__link> 2021 </a> </li> <li class=md-tabs__item> <a href=../../archives/ABAP-guide-zh/ class="md-tabs__link md-tabs__link--active"> docs </a> </li> <li class=md-tabs__item> <a href=../../../cheatsheet/ class=md-tabs__link> about </a> </li> <li class=md-tabs__item> <a href=../../../weekly/weekly-2021-04-0x01/ class=md-tabs__link> weekly </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="hackettyu's blog" class="md-nav__button md-logo" aria-label="hackettyu's blog" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> hackettyu's blog </label> <div class=md-nav__source> <a href=https://github.com/hackettyu/hackettyu-mkdocs-material/ title="前往 GitHub 仓库" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> hackettyu/hackettyu-mkdocs-material </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 data-md-state=indeterminate type=checkbox id=__nav_1 checked> <label class=md-nav__link for=__nav_1> 2018 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=2018 data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> 2018 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../2018-12-15-switch-eclipse-version/ class=md-nav__link> Eclipse 下切换编译 Java 版本 </a> </li> <li class=md-nav__item> <a href=../../../2018-11-13-ssh-login/ class=md-nav__link> SSH 登录时出现如下错误：Disconnected:No supported authentication methods available 问题处理 </a> </li> <li class=md-nav__item> <a href=../../../2018-12-02-windows-git-bash/ class=md-nav__link> Windows 下使用 git bash 自带的功能配置终端主题 </a> </li> <li class=md-nav__item> <a href=../../../2018-10-25-hexo-dns/ class=md-nav__link> hexo 配置 DNS 分流导致国内找不到 HOST 的问题处理 </a> </li> <li class=md-nav__item> <a href=../../../2018-10-25-firewall-cmd/ class=md-nav__link> 关于 CentOS 7 新的防火墙命令 firewall-cmd </a> </li> <li class=md-nav__item> <a href=../../../2018-10-04-powershell-upper/ class=md-nav__link> 在命令行下使用 Powershell 提权 </a> </li> <li class=md-nav__item> <a href=../../../2018-10-18-java-swap-function/ class=md-nav__link> 我在写 java swap 函数时理解了值传递与引用 </a> </li> <li class=md-nav__item> <a href=../../../2018-10-06-linux-ln/ class=md-nav__link> 用 ln 命令了解硬链接和软连接 </a> </li> <li class=md-nav__item> <a href=../../../2018-10-04-command-close-nvida/ class=md-nav__link> 用命令行操作 Window 系统的显卡驱动程序 </a> </li> <li class=md-nav__item> <a href=../../../2018-09-27-code-cloc/ class=md-nav__link> 用量化自己的代码生涯：用命令行工具 cloc 做代码行统计 </a> </li> <li class=md-nav__item> <a href=../../../2018-10-01-chromium-google-api/ class=md-nav__link> 解决 Chromium 浏览器缺少 Google API 密钥无法登录问题 </a> </li> <li class=md-nav__item> <a href=../../../2018-09-13-ubuntu-board/ class=md-nav__link> 解决 Ubuntu v16.04 没有在打字时停用触摸板选项 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 data-md-state=indeterminate type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2> 2019 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=2019 data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> 2019 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../2019-02-16-javascript-error-msg/ class=md-nav__link> JavaScript 错误参考（转载） </a> </li> <li class=md-nav__item> <a href=../../../2019-01-02-javascript-use/ class=md-nav__link> 关于 JavaScript 作用域问题 </a> </li> <li class=md-nav__item> <a href=../../../2019-04-14-tomcat-deploy-web/ class=md-nav__link> 利用 Tomcat8 和 maven 部署 Web 工程 </a> </li> <li class=md-nav__item> <a href=../../../2019-09-16-chrome-extention/ class=md-nav__link> 利用 policy whitelist 解决 Chrome 第三方扩展安装的问题 </a> </li> <li class=md-nav__item> <a href=../../../2019-11-04-hexo-kindle/ class=md-nav__link> 如何将 hexo 的 blog 页面发送到 kindle </a> </li> <li class=md-nav__item> <a href=../../../2019-04-13-spring-framework-version/ class=md-nav__link> 如何订阅一个 Repo 的 Realese 信息：利用 Github API 获取 spring-framework 所有版本更新信息 </a> </li> <li class=md-nav__item> <a href=../../../2019-10-30-hexo-ogp/ class=md-nav__link> 给 hexo 博客添加 OGP 协议支持 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 data-md-state=indeterminate type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3> 2020 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=2020 data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> 2020 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../2020-09-14-awosome-command-line-slide/ class=md-nav__link> Awesome command line slide | 记一次分享命令行的幻灯片 </a> </li> <li class=md-nav__item> <a href=../../../2020-09-09-lightproxy-unofficial-document/ class=md-nav__link> LightPorxy 的非官方文档 </a> </li> <li class=md-nav__item> <a href=../../../2020-06-17-mkdocs-material-turtorial/ class=md-nav__link> Mkdocs 搭建博客指北，以及推荐 mkdocs-materials 主题 </a> </li> <li class=md-nav__item> <a href=../../../2020-11-04-sap-mdg-api-example/ class=md-nav__link> SAP 主数据参考 ｜ SAP MDG API examples </a> </li> <li class=md-nav__item> <a href=../../../2020-05-07-windows-scoop/ class=md-nav__link> Windows 下使用 Scoop 工具安装环境以及管理各种软件 </a> </li> <li class=md-nav__item> <a href=../../../2020-08-20-ABAP-code-indent/ class=md-nav__link> 关于 ABAP 的代码缩进风格的思考 </a> </li> <li class=md-nav__item> <a href=../../../2020-03-20-vscode-diff/ class=md-nav__link> 命令行下切换当前 workplace 到 Visual Studio Code </a> </li> <li class=md-nav__item> <a href=../../../2020-11-02-python-enum/ class=md-nav__link> 简单使用一下 Python enum </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 data-md-state=indeterminate type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4> 2021 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=2021 data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> 2021 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../2021-02-02-abap-rest-use-library/ class=md-nav__link> ABAP REST 工具库 CL_REST_LIBRARY ｜ ABAP 使用 CL_REST_LIBRARY 实现 RESTful 接口 </a> </li> <li class=md-nav__item> <a href=../../../2021-06-08-ABAP-WTF/ class=md-nav__link> ABAP WTF 时刻 </a> </li> <li class=md-nav__item> <a href=../../../2021-01-25-abap-rest-interface/ class=md-nav__link> ABAP 创建一个简单的 RESTful 接口 </a> </li> <li class=md-nav__item> <a href=../../../2021-06-21-github-pr-workflow/ class=md-nav__link> Github PR workflow </a> </li> <li class=md-nav__item> <a href=../../../2021-08-30-markdown-TIL/ class=md-nav__link> Markdown TIL </a> </li> <li class=md-nav__item> <a href=../../../2021-03-31-SAP-JCo-example/ class=md-nav__link> SAP JCo 例子 | SAP Java Connector 参考 </a> </li> <li class=md-nav__item> <a href=../../../2021-06-25-abap-dont-need-many-loops/ class=md-nav__link> 关于 ABAP 或许不需要那么多的循环 </a> </li> <li class=md-nav__item> <a href=../../../2021-02-01-zeep-turtorial/ class=md-nav__link> 用 Python 的 SOAP client Zeep 解析 Webservice 接口 </a> </li> <li class=md-nav__item> <a href=../../../2021-02-08-bullet-journal-tuturial/ class=md-nav__link> 自用子弹笔记指南 </a> </li> <li class=md-nav__item> <a href=../../../2021-02-03-mkdocs-add-termy/ class=md-nav__link> 让博客里的 Terminal 的例子动起来，给 Mkdocs 添加 termynal 支持 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5> docs <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=docs data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> docs </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_1 data-md-state=indeterminate type=checkbox id=__nav_5_1 checked> <label class=md-nav__link for=__nav_5_1> others <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=others data-md-level=2> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> others </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../archives/ABAP-guide-zh/ class=md-nav__link> archives-ABAP-guide-zh </a> </li> <li class=md-nav__item> <a href=../../backup/171216/ class=md-nav__link> backup-171216 </a> </li> <li class=md-nav__item> <a href=../../backup/171231/ class=md-nav__link> backup-171231 </a> </li> <li class=md-nav__item> <a href=../../backup/180102/ class=md-nav__link> backup-180102 </a> </li> <li class=md-nav__item> <a href=../../backup/180103/ class=md-nav__link> backup-180103 </a> </li> <li class=md-nav__item> <a href=../../backup/180510/ class=md-nav__link> backup-180510 </a> </li> <li class=md-nav__item> <a href=../../backup/180915/ class=md-nav__link> backup-180915 </a> </li> <li class=md-nav__item> <a href=../../log/firefox-addon/ class=md-nav__link> docs-log-firefox-addon </a> </li> <li class=md-nav__item> <a href=../../log/fix-bugs/ class=md-nav__link> docs-log-fix-bugs </a> </li> <li class=md-nav__item> <a href=../../note/ISO-8601/ class=md-nav__link> docs-note-ISO-8601 </a> </li> <li class=md-nav__item> <a href=../../note/code-pushdown/ class=md-nav__link> docs-note-code-pushdown </a> </li> <li class=md-nav__item> <a href=../../note/code-smell/ class=md-nav__link> docs-note-code-smell </a> </li> <li class=md-nav__item> <a href=../../note/json-styleguide-note/ class=md-nav__link> docs-note-json-styleguide-note </a> </li> <li class=md-nav__item> <a href=../../note/my-todoist/ class=md-nav__link> docs-note-my-todoist </a> </li> <li class=md-nav__item> <a href=../../note/one-python-craftsman-note/ class=md-nav__link> docs-note-one-python-craftsman-note </a> </li> <li class=md-nav__item> <a href=../../note/ubuntu/ class=md-nav__link> docs-note-ubuntu </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_2 type=checkbox id=__nav_5_2 checked> <label class=md-nav__link for=__nav_5_2> books <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=books data-md-level=2> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> books </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ISBN-9787115249494/ class=md-nav__link> ISBN-9787115249494 </a> </li> <li class=md-nav__item> <a href=../ISBN-9787115564672/ class=md-nav__link> ISBN-9787115564672 </a> </li> <li class=md-nav__item> <a href=../ISBN-9787121297267/ class=md-nav__link> ISBN-9787121297267 </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> ISBN-9787508648286 <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> ISBN-9787508648286 </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_1 class=md-nav__link> 版权信息 </a> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> 版权信息 </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> 内容简介 </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> 赞誉 </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> 赞誉 </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> 译者序 </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> 前言 </a> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> 序言 </a> </li> <li class=md-nav__item> <a href=#i class=md-nav__link> 第Ⅰ部分 概览 </a> <nav class=md-nav aria-label="第Ⅰ部分 概览"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1 class=md-nav__link> 第1章 介绍 </a> <nav class=md-nav aria-label="第1章 介绍"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_9 class=md-nav__link> 系统管理员模式 </a> </li> <li class=md-nav__item> <a href=#googlesre class=md-nav__link> Google的解决之道：SRE </a> </li> <li class=md-nav__item> <a href=#sre class=md-nav__link> SRE方法论 </a> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2-google-sre class=md-nav__link> 第2章 Google 生产环境：SRE视角 </a> <nav class=md-nav aria-label="第2章 Google 生产环境：SRE视角"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_11 class=md-nav__link> 硬件 </a> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> 管理物理服务器的系统管理软件 </a> </li> <li class=md-nav__item> <a href=#_13 class=md-nav__link> 其他系统软件 </a> </li> <li class=md-nav__item> <a href=#_14 class=md-nav__link> 软件基础设施 </a> </li> <li class=md-nav__item> <a href=#_15 class=md-nav__link> 研发环境 </a> </li> <li class=md-nav__item> <a href=#_16 class=md-nav__link> 莎士比亚搜索：一个示范服务 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ii class=md-nav__link> 第Ⅱ部分 指导思想 </a> <nav class=md-nav aria-label="第Ⅱ部分 指导思想"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#3 class=md-nav__link> 第3章 拥抱风险 </a> <nav class=md-nav aria-label="第3章 拥抱风险"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_17 class=md-nav__link> 管理风险 </a> </li> <li class=md-nav__item> <a href=#_18 class=md-nav__link> 度量服务的风险 </a> </li> <li class=md-nav__item> <a href=#_19 class=md-nav__link> 服务的风险容忍度 </a> </li> <li class=md-nav__item> <a href=#_20 class=md-nav__link> 使用错误预算的目的 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4 class=md-nav__link> 第4章 服务质量目标 </a> <nav class=md-nav aria-label="第4章 服务质量目标"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_21 class=md-nav__link> 服务质量术语 </a> </li> <li class=md-nav__item> <a href=#_22 class=md-nav__link> 指标在实践中的应用 </a> </li> <li class=md-nav__item> <a href=#_23 class=md-nav__link> 目标在实践中的应用 </a> </li> <li class=md-nav__item> <a href=#_24 class=md-nav__link> 协议在实践中的应用 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#5 class=md-nav__link> 第5章 减少琐事 </a> <nav class=md-nav aria-label="第5章 减少琐事"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_25 class=md-nav__link> 琐事的定义 </a> </li> <li class=md-nav__item> <a href=#_26 class=md-nav__link> 为什么琐事越少越好 </a> </li> <li class=md-nav__item> <a href=#_27 class=md-nav__link> 什么算作工程工作 </a> </li> <li class=md-nav__item> <a href=#_28 class=md-nav__link> 琐事繁多是不是一定不好 </a> </li> <li class=md-nav__item> <a href=#_29 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#6 class=md-nav__link> 第6章 分布式系统的监控 </a> <nav class=md-nav aria-label="第6章 分布式系统的监控"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_30 class=md-nav__link> 术语定义 </a> </li> <li class=md-nav__item> <a href=#_31 class=md-nav__link> 为什么要监控 </a> </li> <li class=md-nav__item> <a href=#_32 class=md-nav__link> 对监控系统设置合理预期 </a> </li> <li class=md-nav__item> <a href=#_33 class=md-nav__link> 现象与原因 </a> </li> <li class=md-nav__item> <a href=#_34 class=md-nav__link> 黑盒监控与白盒监控 </a> </li> <li class=md-nav__item> <a href=#4_1 class=md-nav__link> 4个黄金指标 </a> </li> <li class=md-nav__item> <a href=#_35 class=md-nav__link> 关于长尾问题 </a> </li> <li class=md-nav__item> <a href=#_36 class=md-nav__link> 度量指标时采用合适的精度 </a> </li> <li class=md-nav__item> <a href=#_37 class=md-nav__link> 简化，直到不能再简化 </a> </li> <li class=md-nav__item> <a href=#_38 class=md-nav__link> 将上述理念整合起来 </a> </li> <li class=md-nav__item> <a href=#_39 class=md-nav__link> 监控系统的长期维护 </a> </li> <li class=md-nav__item> <a href=#_40 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#7-google class=md-nav__link> 第7章 Google 的自动化系统的演进 </a> <nav class=md-nav aria-label="第7章 Google 的自动化系统的演进"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_41 class=md-nav__link> 自动化的价值 </a> </li> <li class=md-nav__item> <a href=#google-sre class=md-nav__link> 自动化对Google SRE的价值 </a> </li> <li class=md-nav__item> <a href=#_42 class=md-nav__link> 自动化的应用案例 </a> </li> <li class=md-nav__item> <a href=#_43 class=md-nav__link> 让自己脱离工作：自动化所有的东西 </a> </li> <li class=md-nav__item> <a href=#_44 class=md-nav__link> 舒缓疼痛：将自动化应用到集群上线中 </a> </li> <li class=md-nav__item> <a href=#borg class=md-nav__link> Borg：仓库规模计算机的诞生 </a> </li> <li class=md-nav__item> <a href=#_45 class=md-nav__link> 可靠性是最基本的功能 </a> </li> <li class=md-nav__item> <a href=#_46 class=md-nav__link> 建议 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#8 class=md-nav__link> 第8章 发布工程 </a> <nav class=md-nav aria-label="第8章 发布工程"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_47 class=md-nav__link> 发布工程师的角色 </a> </li> <li class=md-nav__item> <a href=#_48 class=md-nav__link> 发布工程哲学 </a> </li> <li class=md-nav__item> <a href=#_49 class=md-nav__link> 持续构建与部署 </a> </li> <li class=md-nav__item> <a href=#_50 class=md-nav__link> 配置管理 </a> </li> <li class=md-nav__item> <a href=#_51 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#9 class=md-nav__link> 第9章 简单化 </a> <nav class=md-nav aria-label="第9章 简单化"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_52 class=md-nav__link> 系统的稳定性与灵活性 </a> </li> <li class=md-nav__item> <a href=#_53 class=md-nav__link> 乏味是一种美德 </a> </li> <li class=md-nav__item> <a href=#_54 class=md-nav__link> 我绝对不放弃我的代码 </a> </li> <li class=md-nav__item> <a href=#_55 class=md-nav__link> “负代码行”作为一个指标 </a> </li> <li class=md-nav__item> <a href=#api class=md-nav__link> 最小 API </a> </li> <li class=md-nav__item> <a href=#_56 class=md-nav__link> 模块化 </a> </li> <li class=md-nav__item> <a href=#_57 class=md-nav__link> 发布的简单化 </a> </li> <li class=md-nav__item> <a href=#_58 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#iii class=md-nav__link> 第Ⅲ部分 具体实践 </a> <nav class=md-nav aria-label="第Ⅲ部分 具体实践"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#10 class=md-nav__link> 第10章 基于时间序列数据进行有效报警 </a> <nav class=md-nav aria-label="第10章 基于时间序列数据进行有效报警"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#borgmon class=md-nav__link> Borgmon的起源 </a> </li> <li class=md-nav__item> <a href=#_59 class=md-nav__link> 应用软件的监控埋点 </a> </li> <li class=md-nav__item> <a href=#_60 class=md-nav__link> 监控指标的收集 </a> </li> <li class=md-nav__item> <a href=#_61 class=md-nav__link> 时间序列数据的存储 </a> </li> <li class=md-nav__item> <a href=#borg_1 class=md-nav__link> Borg规则计算 </a> </li> <li class=md-nav__item> <a href=#_62 class=md-nav__link> 报警 </a> </li> <li class=md-nav__item> <a href=#_63 class=md-nav__link> 监控系统的分片机制 </a> </li> <li class=md-nav__item> <a href=#_64 class=md-nav__link> 黑盒监控 </a> </li> <li class=md-nav__item> <a href=#_65 class=md-nav__link> 配置文件的维护 </a> </li> <li class=md-nav__item> <a href=#_66 class=md-nav__link> 十年之后 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#11-on-call class=md-nav__link> 第11章 on-call轮值 </a> <nav class=md-nav aria-label="第11章 on-call轮值"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_67 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href=#on-call class=md-nav__link> on-call工程师的一天 </a> </li> <li class=md-nav__item> <a href=#on-call_1 class=md-nav__link> on-call工作平衡 </a> </li> <li class=md-nav__item> <a href=#_68 class=md-nav__link> 安全感 </a> </li> <li class=md-nav__item> <a href=#_69 class=md-nav__link> 避免运维压力过大 </a> </li> <li class=md-nav__item> <a href=#_70 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#12 class=md-nav__link> 第12章 有效的故障排查手段 </a> <nav class=md-nav aria-label="第12章 有效的故障排查手段"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_71 class=md-nav__link> 理论 </a> </li> <li class=md-nav__item> <a href=#_72 class=md-nav__link> 实践 </a> </li> <li class=md-nav__item> <a href=#_73 class=md-nav__link> 神奇的负面结果 </a> </li> <li class=md-nav__item> <a href=#_74 class=md-nav__link> 案例分析 </a> </li> <li class=md-nav__item> <a href=#_75 class=md-nav__link> 使故障排查更简单 </a> </li> <li class=md-nav__item> <a href=#_76 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#13 class=md-nav__link> 第13章 紧急事件响应 </a> <nav class=md-nav aria-label="第13章 紧急事件响应"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_77 class=md-nav__link> 当系统出现问题时怎么办 </a> </li> <li class=md-nav__item> <a href=#_78 class=md-nav__link> 测试导致的紧急事故 </a> </li> <li class=md-nav__item> <a href=#_79 class=md-nav__link> 变更部署带来的紧急事故 </a> </li> <li class=md-nav__item> <a href=#_80 class=md-nav__link> 流程导致的严重事故 </a> </li> <li class=md-nav__item> <a href=#_81 class=md-nav__link> 所有的问题都有解决方案 </a> </li> <li class=md-nav__item> <a href=#_82 class=md-nav__link> 向过去学习，而不是重复它 </a> </li> <li class=md-nav__item> <a href=#_83 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#14 class=md-nav__link> 第14章 紧急事故管理 </a> <nav class=md-nav aria-label="第14章 紧急事故管理"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_84 class=md-nav__link> 无流程管理的紧急事故 </a> </li> <li class=md-nav__item> <a href=#_85 class=md-nav__link> 对这次无流程管理的事故的剖析 </a> </li> <li class=md-nav__item> <a href=#_86 class=md-nav__link> 紧急事故的流程管理要素 </a> </li> <li class=md-nav__item> <a href=#_87 class=md-nav__link> 一次流程管理良好的事故 </a> </li> <li class=md-nav__item> <a href=#_88 class=md-nav__link> 什么时候对外宣布事故 </a> </li> <li class=md-nav__item> <a href=#_89 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#15 class=md-nav__link> 第15章 事后总结：从失败中学习 </a> <nav class=md-nav aria-label="第15章 事后总结：从失败中学习"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#google class=md-nav__link> Google的事后总结哲学 </a> </li> <li class=md-nav__item> <a href=#_90 class=md-nav__link> 协作和知识共享 </a> </li> <li class=md-nav__item> <a href=#_91 class=md-nav__link> 建立事后总结文化 </a> </li> <li class=md-nav__item> <a href=#_92 class=md-nav__link> 小结以及不断优化 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#16 class=md-nav__link> 第16章 跟踪故障 </a> <nav class=md-nav aria-label="第16章 跟踪故障"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#escalator class=md-nav__link> Escalator </a> </li> <li class=md-nav__item> <a href=#outalator class=md-nav__link> Outalator </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#17 class=md-nav__link> 第17章 测试可靠性 </a> <nav class=md-nav aria-label="第17章 测试可靠性"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_93 class=md-nav__link> 软件测试的类型 </a> </li> <li class=md-nav__item> <a href=#_94 class=md-nav__link> 创造一个构建和测试环境 </a> </li> <li class=md-nav__item> <a href=#_95 class=md-nav__link> 大规模测试 </a> </li> <li class=md-nav__item> <a href=#_96 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#18-sre class=md-nav__link> 第18章 SRE部门中的软件工程实践 </a> <nav class=md-nav aria-label="第18章 SRE部门中的软件工程实践"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sre_1 class=md-nav__link> 为什么软件工程项目对SRE很重要 </a> </li> <li class=md-nav__item> <a href=#auxon class=md-nav__link> Auxon 案例分析：项目背景和要解决的问题 </a> </li> <li class=md-nav__item> <a href=#_97 class=md-nav__link> 基于意图的容量规划 </a> </li> <li class=md-nav__item> <a href=#sre_2 class=md-nav__link> 在SRE团队中培养软件工程风气 </a> </li> <li class=md-nav__item> <a href=#_98 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#19 class=md-nav__link> 第19章 前端服务器的负载均衡 </a> <nav class=md-nav aria-label="第19章 前端服务器的负载均衡"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_99 class=md-nav__link> 有时候硬件并不能解决问题 </a> </li> <li class=md-nav__item> <a href=#dns class=md-nav__link> 使用DNS进行负载均衡 </a> </li> <li class=md-nav__item> <a href=#ip class=md-nav__link> 负载均衡：虚拟IP </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#20 class=md-nav__link> 第20章 数据中心内部的负载均衡系统 </a> <nav class=md-nav aria-label="第20章 数据中心内部的负载均衡系统"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_100 class=md-nav__link> 理想情况 </a> </li> <li class=md-nav__item> <a href=#_101 class=md-nav__link> 识别异常任务：流速控制和跛脚鸭任务 </a> </li> <li class=md-nav__item> <a href=#_102 class=md-nav__link> 利用划分子集限制连接池大小 </a> </li> <li class=md-nav__item> <a href=#_103 class=md-nav__link> 负载均衡策略 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#21 class=md-nav__link> 第21章 应对过载 </a> <nav class=md-nav aria-label="第21章 应对过载"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#qps class=md-nav__link> QPS陷阱 </a> </li> <li class=md-nav__item> <a href=#_104 class=md-nav__link> 给每个用户设置限制 </a> </li> <li class=md-nav__item> <a href=#_105 class=md-nav__link> 客户端侧的节流机制 </a> </li> <li class=md-nav__item> <a href=#_106 class=md-nav__link> 重要性 </a> </li> <li class=md-nav__item> <a href=#_107 class=md-nav__link> 资源利用率信号 </a> </li> <li class=md-nav__item> <a href=#_108 class=md-nav__link> 处理过载错误 </a> </li> <li class=md-nav__item> <a href=#_109 class=md-nav__link> 连接造成的负载 </a> </li> <li class=md-nav__item> <a href=#_110 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#22 class=md-nav__link> 第22章 处理连锁故障 </a> <nav class=md-nav aria-label="第22章 处理连锁故障"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_111 class=md-nav__link> 连锁故障产生的原因和如何从设计上避免 </a> </li> <li class=md-nav__item> <a href=#_112 class=md-nav__link> 防止软件服务器过载 </a> </li> <li class=md-nav__item> <a href=#_113 class=md-nav__link> 慢启动和冷缓存 </a> </li> <li class=md-nav__item> <a href=#_114 class=md-nav__link> 连锁故障的触发条件 </a> </li> <li class=md-nav__item> <a href=#_115 class=md-nav__link> 连锁故障的测试 </a> </li> <li class=md-nav__item> <a href=#_116 class=md-nav__link> 解决连锁故障的立即步骤 </a> </li> <li class=md-nav__item> <a href=#_117 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#23 class=md-nav__link> 第23章 管理关键状态：利用分布式共识来提高可靠性 </a> <nav class=md-nav aria-label="第23章 管理关键状态：利用分布式共识来提高可靠性"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_118 class=md-nav__link> 使用共识系统的动力：分布式系统协调失败 </a> </li> <li class=md-nav__item> <a href=#_119 class=md-nav__link> 分布式共识是如何工作的 </a> </li> <li class=md-nav__item> <a href=#_120 class=md-nav__link> 分布式共识的系统架构模式 </a> </li> <li class=md-nav__item> <a href=#_121 class=md-nav__link> 分布式共识系统的性能问题 </a> </li> <li class=md-nav__item> <a href=#_122 class=md-nav__link> 分布式共识系统的部署 </a> </li> <li class=md-nav__item> <a href=#_123 class=md-nav__link> 对分布式共识系统的监控 </a> </li> <li class=md-nav__item> <a href=#_124 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#24 class=md-nav__link> 第24章 分布式周期性任务系统 </a> <nav class=md-nav aria-label="第24章 分布式周期性任务系统"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cron class=md-nav__link> Cron </a> </li> <li class=md-nav__item> <a href=#cron_1 class=md-nav__link> Cron任务和幂等性 </a> </li> <li class=md-nav__item> <a href=#cron_2 class=md-nav__link> 大规模Cron系统 </a> </li> <li class=md-nav__item> <a href=#google-cron class=md-nav__link> Google Cron系统的构建过程 </a> </li> <li class=md-nav__item> <a href=#_125 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#25 class=md-nav__link> 第25章 数据处理流水线 </a> <nav class=md-nav aria-label="第25章 数据处理流水线"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_126 class=md-nav__link> 流水线设计模式的起源 </a> </li> <li class=md-nav__item> <a href=#_127 class=md-nav__link> 简单流水线设计模式与大数据 </a> </li> <li class=md-nav__item> <a href=#_128 class=md-nav__link> 周期性流水线模式的挑战 </a> </li> <li class=md-nav__item> <a href=#_129 class=md-nav__link> 工作分发不均造成的问题 </a> </li> <li class=md-nav__item> <a href=#_130 class=md-nav__link> 分布式环境中周期性数据流水线的缺点 </a> </li> <li class=md-nav__item> <a href=#google-workflow class=md-nav__link> Google Workflow简介 </a> </li> <li class=md-nav__item> <a href=#workflow class=md-nav__link> Workflow中的执行阶段 </a> </li> <li class=md-nav__item> <a href=#_131 class=md-nav__link> 保障业务的持续性 </a> </li> <li class=md-nav__item> <a href=#_132 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#26 class=md-nav__link> 第26章 数据完整性：读写一致 </a> <nav class=md-nav aria-label="第26章 数据完整性：读写一致"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_133 class=md-nav__link> 数据完整性的强需求 </a> </li> <li class=md-nav__item> <a href=#google-sre_1 class=md-nav__link> 保障数据完整性和可用性：Google SRE的目标 </a> </li> <li class=md-nav__item> <a href=#google-sre_2 class=md-nav__link> Google SRE保障数据完整性的手段 </a> </li> <li class=md-nav__item> <a href=#_134 class=md-nav__link> 案例分析 </a> </li> <li class=md-nav__item> <a href=#sre_3 class=md-nav__link> SRE的基本理念在数据完整性上的应用 </a> </li> <li class=md-nav__item> <a href=#_135 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#27 class=md-nav__link> 第27章 可靠地进行产品的大规模发布 </a> <nav class=md-nav aria-label="第27章 可靠地进行产品的大规模发布"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_136 class=md-nav__link> 发布协调工程师 </a> </li> <li class=md-nav__item> <a href=#_137 class=md-nav__link> 建立发布流程 </a> </li> <li class=md-nav__item> <a href=#_138 class=md-nav__link> 起草一个发布检查列表 </a> </li> <li class=md-nav__item> <a href=#_139 class=md-nav__link> 可靠发布所需要的方法论 </a> </li> <li class=md-nav__item> <a href=#lce class=md-nav__link> LCE的发展 </a> </li> <li class=md-nav__item> <a href=#_140 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#iv class=md-nav__link> 第Ⅳ部分 管理 </a> <nav class=md-nav aria-label="第Ⅳ部分 管理"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#28-sreon-call class=md-nav__link> 第28章 迅速培养SRE加入on-call </a> <nav class=md-nav aria-label="第28章 迅速培养SRE加入on-call"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sre_4 class=md-nav__link> 新的SRE已经招聘到了，接下来怎么办 </a> </li> <li class=md-nav__item> <a href=#_141 class=md-nav__link> 培训初期：重体系，而非混乱 </a> </li> <li class=md-nav__item> <a href=#_142 class=md-nav__link> 培养反向工程能力和随机应变能力 </a> </li> <li class=md-nav__item> <a href=#on-call5 class=md-nav__link> 有抱负的on-call工程师的5个特点 </a> </li> <li class=md-nav__item> <a href=#on-call_2 class=md-nav__link> on-call之后：通过培训的仪式感，以及日后的持续教育 </a> </li> <li class=md-nav__item> <a href=#_143 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#29 class=md-nav__link> 第29章 处理中断性任务 </a> <nav class=md-nav aria-label="第29章 处理中断性任务"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_144 class=md-nav__link> 管理运维负载 </a> </li> <li class=md-nav__item> <a href=#_145 class=md-nav__link> 如何决策对中断性任务的处理策略 </a> </li> <li class=md-nav__item> <a href=#_146 class=md-nav__link> 不完美的机器 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#30-sre class=md-nav__link> 第30章 通过嵌入SRE的方式帮助团队从运维过载中恢复 </a> <nav class=md-nav aria-label="第30章 通过嵌入SRE的方式帮助团队从运维过载中恢复"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_147 class=md-nav__link> 第一阶段：了解服务，了解上下文 </a> </li> <li class=md-nav__item> <a href=#_148 class=md-nav__link> 第二阶段：分享背景知识 </a> </li> <li class=md-nav__item> <a href=#_149 class=md-nav__link> 第三阶段：主导改变 </a> </li> <li class=md-nav__item> <a href=#_150 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#31-sre class=md-nav__link> 第31章 SRE与其他团队的沟通与协作 </a> <nav class=md-nav aria-label="第31章 SRE与其他团队的沟通与协作"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_151 class=md-nav__link> 沟通：生产会议 </a> </li> <li class=md-nav__item> <a href=#sre_5 class=md-nav__link> SRE的内部协作 </a> </li> <li class=md-nav__item> <a href=#sreviceroy class=md-nav__link> SRE内部的协作案例分析：Viceroy </a> </li> <li class=md-nav__item> <a href=#sre_6 class=md-nav__link> SRE与其他部门之间的协作 </a> </li> <li class=md-nav__item> <a href=#dfpf1 class=md-nav__link> 案例分析：将DFP迁移到F1 </a> </li> <li class=md-nav__item> <a href=#_152 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#32-sre class=md-nav__link> 第32章 SRE参与模式的演进历程 </a> <nav class=md-nav aria-label="第32章 SRE参与模式的演进历程"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sre_7 class=md-nav__link> SRE 参与模式：是什么、怎么样以及为什么 </a> </li> <li class=md-nav__item> <a href=#prr class=md-nav__link> PRR 模型 </a> </li> <li class=md-nav__item> <a href=#sre_8 class=md-nav__link> SRE参与模型 </a> </li> <li class=md-nav__item> <a href=#prrprr class=md-nav__link> PRR：简单PRR模型 </a> </li> <li class=md-nav__item> <a href=#prr_1 class=md-nav__link> 简单PRR模型的演进：早期参与模型 </a> </li> <li class=md-nav__item> <a href=#sre_9 class=md-nav__link> 不断发展的服务：框架和SRE平台 </a> </li> <li class=md-nav__item> <a href=#_153 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#v class=md-nav__link> 第Ⅴ部分 结束语 </a> <nav class=md-nav aria-label="第Ⅴ部分 结束语"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#33 class=md-nav__link> 第33章 其他行业的实践经验 </a> <nav class=md-nav aria-label="第33章 其他行业的实践经验"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sre_10 class=md-nav__link> 有其他行业背景的资深SRE </a> </li> <li class=md-nav__item> <a href=#_154 class=md-nav__link> 灾难预案与演习 </a> </li> <li class=md-nav__item> <a href=#_155 class=md-nav__link> 事后总结的文化 </a> </li> <li class=md-nav__item> <a href=#_156 class=md-nav__link> 将重复性工作自动化，消除运维负载 </a> </li> <li class=md-nav__item> <a href=#_157 class=md-nav__link> 结构化和理性的决策 </a> </li> <li class=md-nav__item> <a href=#_158 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#34 class=md-nav__link> 第34章 结语 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#a class=md-nav__link> 附录A 系统可用性 </a> </li> <li class=md-nav__item> <a href=#b class=md-nav__link> 附录B 生产环境运维过程中的最佳实践 </a> </li> <li class=md-nav__item> <a href=#c class=md-nav__link> 附录C 事故状态文档示范 </a> </li> <li class=md-nav__item> <a href=#d class=md-nav__link> 附录D 事后总结示范 </a> </li> <li class=md-nav__item> <a href=#e class=md-nav__link> 附录E 发布协调检查列表 </a> </li> <li class=md-nav__item> <a href=#f class=md-nav__link> 附录F 生产环境会议记录示范 </a> </li> <li class=md-nav__item> <a href=#_159 class=md-nav__link> 参考文献 </a> </li> <li class=md-nav__item> <a href=#_160 class=md-nav__link> 索引 </a> </li> <li class=md-nav__item> <a href=#_161 class=md-nav__link> 关于编著者 </a> </li> <li class=md-nav__item> <a href=#_162 class=md-nav__link> 封面介绍 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../ISBN-9787521705041/ class=md-nav__link> ISBN-9787521705041 </a> </li> <li class=md-nav__item> <a href=../ISBN-9787532756728/ class=md-nav__link> ISBN-9787532756728 </a> </li> <li class=md-nav__item> <a href=../ISBN-9787532762897/ class=md-nav__link> ISBN-9787532762897 </a> </li> <li class=md-nav__item> <a href=../ISBN-9787553678054/ class=md-nav__link> ISBN-9787553678054 </a> </li> <li class=md-nav__item> <a href=../ISBN-9787559627636/ class=md-nav__link> ISBN-9787559627636 </a> </li> <li class=md-nav__item> <a href=../ISBN-9787559632265/ class=md-nav__link> ISBN-9787559632265 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_3 data-md-state=indeterminate type=checkbox id=__nav_5_3 checked> <label class=md-nav__link for=__nav_5_3> command <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=command data-md-level=2> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> command </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../command/bash-cheatsheet/ class=md-nav__link> bash-cheatsheet </a> </li> <li class=md-nav__item> <a href=../../command/cmd/about-wifi/ class=md-nav__link> cmd-about-wifi </a> </li> <li class=md-nav__item> <a href=../../command/cmd/chcp/ class=md-nav__link> cmd-chcp </a> </li> <li class=md-nav__item> <a href=../../command/cmd/clip/ class=md-nav__link> cmd-clip </a> </li> <li class=md-nav__item> <a href=../../command/cmd/gcc/ class=md-nav__link> cmd-gcc </a> </li> <li class=md-nav__item> <a href=../../command/cmd/javap/ class=md-nav__link> cmd-javap </a> </li> <li class=md-nav__item> <a href=../../command/cmd/netstat/ class=md-nav__link> cmd-netstat </a> </li> <li class=md-nav__item> <a href=../../command/cmd/ping/ class=md-nav__link> cmd-ping </a> </li> <li class=md-nav__item> <a href=../../command/cmd/set/ class=md-nav__link> cmd-set </a> </li> <li class=md-nav__item> <a href=../../command/cmd/shutdown/ class=md-nav__link> cmd-shutdown </a> </li> <li class=md-nav__item> <a href=../../command/cmd/taskkill/ class=md-nav__link> cmd-taskkill </a> </li> <li class=md-nav__item> <a href=../../command/cmd/wireshark/ class=md-nav__link> cmd-wireshark </a> </li> <li class=md-nav__item> <a href=../../command/cmd/wmic/ class=md-nav__link> cmd-wmic </a> </li> <li class=md-nav__item> <a href=../../command/cmd/wsl/ class=md-nav__link> cmd-wsl </a> </li> <li class=md-nav__item> <a href=../../command/funny/ class=md-nav__link> funny </a> </li> <li class=md-nav__item> <a href=../../command/linux/cat/ class=md-nav__link> linux-cat </a> </li> <li class=md-nav__item> <a href=../../command/linux/column/ class=md-nav__link> linux-column </a> </li> <li class=md-nav__item> <a href=../../command/linux/csplit/ class=md-nav__link> linux-csplit </a> </li> <li class=md-nav__item> <a href=../../command/linux/dd/ class=md-nav__link> linux-dd </a> </li> <li class=md-nav__item> <a href=../../command/linux/df/ class=md-nav__link> linux-df </a> </li> <li class=md-nav__item> <a href=../../command/linux/dpkg/ class=md-nav__link> linux-dpkg </a> </li> <li class=md-nav__item> <a href=../../command/linux/ethtool/ class=md-nav__link> linux-ethtool </a> </li> <li class=md-nav__item> <a href=../../command/linux/find/ class=md-nav__link> linux-find </a> </li> <li class=md-nav__item> <a href=../../command/linux/git/ class=md-nav__link> linux-git </a> </li> <li class=md-nav__item> <a href=../../command/linux/grep/ class=md-nav__link> linux-grep </a> </li> <li class=md-nav__item> <a href=../../command/linux/history/ class=md-nav__link> linux-history </a> </li> <li class=md-nav__item> <a href=../../command/linux/ifconfig/ class=md-nav__link> linux-ifconfig </a> </li> <li class=md-nav__item> <a href=../../command/linux/last/ class=md-nav__link> linux-last </a> </li> <li class=md-nav__item> <a href=../../command/linux/lsof/ class=md-nav__link> linux-lsof </a> </li> <li class=md-nav__item> <a href=../../command/linux/mmv/ class=md-nav__link> linux-mmv </a> </li> <li class=md-nav__item> <a href=../../command/linux/mv/ class=md-nav__link> linux-mv </a> </li> <li class=md-nav__item> <a href=../../command/linux/scp/ class=md-nav__link> linux-scp </a> </li> <li class=md-nav__item> <a href=../../command/linux/service/ class=md-nav__link> linux-service </a> </li> <li class=md-nav__item> <a href=../../command/linux/shred/ class=md-nav__link> linux-shred </a> </li> <li class=md-nav__item> <a href=../../command/linux/split/ class=md-nav__link> linux-split </a> </li> <li class=md-nav__item> <a href=../../command/linux/tail/ class=md-nav__link> linux-tail </a> </li> <li class=md-nav__item> <a href=../../command/linux/top/ class=md-nav__link> linux-top </a> </li> <li class=md-nav__item> <a href=../../command/linux/w/ class=md-nav__link> linux-w </a> </li> <li class=md-nav__item> <a href=../../command/linux/watch/ class=md-nav__link> linux-watch </a> </li> <li class=md-nav__item> <a href=../../command/linux/wget/ class=md-nav__link> linux-wget </a> </li> <li class=md-nav__item> <a href=../../command/service/docker/ class=md-nav__link> service-docker </a> </li> <li class=md-nav__item> <a href=../../command/service/github/ class=md-nav__link> service-github </a> </li> <li class=md-nav__item> <a href=../../command/service/hexo/ class=md-nav__link> service-hexo </a> </li> <li class=md-nav__item> <a href=../../command/service/mysql/ class=md-nav__link> service-mysql </a> </li> <li class=md-nav__item> <a href=../../command/service/rsshub/ class=md-nav__link> service-rsshub </a> </li> <li class=md-nav__item> <a href=../../command/service/sycnthing/ class=md-nav__link> service-sycnthing </a> </li> <li class=md-nav__item> <a href=../../command/service/ttrss/ class=md-nav__link> service-ttrss </a> </li> <li class=md-nav__item> <a href=../../command/tools/ class=md-nav__link> tools-README </a> </li> <li class=md-nav__item> <a href=../../command/tools/ag/ class=md-nav__link> tools-ag </a> </li> <li class=md-nav__item> <a href=../../command/tools/aria2/ class=md-nav__link> tools-aria2 </a> </li> <li class=md-nav__item> <a href=../../command/tools/asciinema/ class=md-nav__link> tools-asciinema </a> </li> <li class=md-nav__item> <a href=../../command/tools/book/ class=md-nav__link> tools-book </a> </li> <li class=md-nav__item> <a href=../../command/tools/bypy/ class=md-nav__link> tools-bypy </a> </li> <li class=md-nav__item> <a href=../../command/tools/code/ class=md-nav__link> tools-code </a> </li> <li class=md-nav__item> <a href=../../command/tools/curl/ class=md-nav__link> tools-curl </a> </li> <li class=md-nav__item> <a href=../../command/tools/diff2html/ class=md-nav__link> tools-diff2html </a> </li> <li class=md-nav__item> <a href=../../command/tools/docker/ class=md-nav__link> tools-docker </a> </li> <li class=md-nav__item> <a href=../../command/tools/fail2ban/ class=md-nav__link> tools-fail2ban </a> </li> <li class=md-nav__item> <a href=../../command/tools/fd/ class=md-nav__link> tools-fd </a> </li> <li class=md-nav__item> <a href=../../command/tools/ffmepg/ class=md-nav__link> tools-ffmepg </a> </li> <li class=md-nav__item> <a href=../../command/tools/jq/ class=md-nav__link> tools-jq </a> </li> <li class=md-nav__item> <a href=../../command/tools/mvn/ class=md-nav__link> tools-mvn </a> </li> <li class=md-nav__item> <a href=../../command/tools/nativefier/ class=md-nav__link> tools-nativefier </a> </li> <li class=md-nav__item> <a href=../../command/tools/networksetup/ class=md-nav__link> tools-networksetup </a> </li> <li class=md-nav__item> <a href=../../command/tools/npm/ class=md-nav__link> tools-npm </a> </li> <li class=md-nav__item> <a href=../../command/tools/ossutil/ class=md-nav__link> tools-ossutil </a> </li> <li class=md-nav__item> <a href=../../command/tools/pandoc/ class=md-nav__link> tools-pandoc </a> </li> <li class=md-nav__item> <a href=../../command/tools/pdfminer.six/ class=md-nav__link> tools-pdfminer.six </a> </li> <li class=md-nav__item> <a href=../../command/tools/pip/ class=md-nav__link> tools-pip </a> </li> <li class=md-nav__item> <a href=../../command/tools/poetry/ class=md-nav__link> tools-poetry </a> </li> <li class=md-nav__item> <a href=../../command/tools/rg/ class=md-nav__link> tools-rg </a> </li> <li class=md-nav__item> <a href=../../command/tools/spotdl/ class=md-nav__link> tools-spotdl </a> </li> <li class=md-nav__item> <a href=../../command/tools/squoosh-cli/ class=md-nav__link> tools-squoosh-cli </a> </li> <li class=md-nav__item> <a href=../../command/tools/wkhtmltopdf/ class=md-nav__link> tools-wkhtmltopdf </a> </li> <li class=md-nav__item> <a href=../../command/tools/ydict/ class=md-nav__link> tools-ydict </a> </li> <li class=md-nav__item> <a href=../../command/tools/you-get/ class=md-nav__link> tools-you-get </a> </li> <li class=md-nav__item> <a href=../../command/tools/z/ class=md-nav__link> tools-z </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_4 data-md-state=indeterminate type=checkbox id=__nav_5_4 checked> <label class=md-nav__link for=__nav_5_4> digest <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=digest data-md-level=2> <label class=md-nav__title for=__nav_5_4> <span class="md-nav__icon md-icon"></span> digest </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../digest/180719/ class=md-nav__link> 180719 </a> </li> <li class=md-nav__item> <a href=../../digest/1807200x01/ class=md-nav__link> 1807200x01 </a> </li> <li class=md-nav__item> <a href=../../digest/1807200x02/ class=md-nav__link> 1807200x02 </a> </li> <li class=md-nav__item> <a href=../../digest/180916/ class=md-nav__link> 180916 </a> </li> <li class=md-nav__item> <a href=../../digest/180919/ class=md-nav__link> 180919 </a> </li> <li class=md-nav__item> <a href=../../digest/180920/ class=md-nav__link> 180920 </a> </li> <li class=md-nav__item> <a href=../../digest/180921/ class=md-nav__link> 180921 </a> </li> <li class=md-nav__item> <a href=../../digest/1809270x01/ class=md-nav__link> 1809270x01 </a> </li> <li class=md-nav__item> <a href=../../digest/1809270x02/ class=md-nav__link> 1809270x02 </a> </li> <li class=md-nav__item> <a href=../../digest/181001/ class=md-nav__link> 181001 </a> </li> <li class=md-nav__item> <a href=../../digest/181004/ class=md-nav__link> 181004 </a> </li> <li class=md-nav__item> <a href=../../digest/181016/ class=md-nav__link> 181016 </a> </li> <li class=md-nav__item> <a href=../../digest/1902180x01/ class=md-nav__link> 1902180x01 </a> </li> <li class=md-nav__item> <a href=../../digest/1902180x02/ class=md-nav__link> 1902180x02 </a> </li> <li class=md-nav__item> <a href=../../digest/190606/ class=md-nav__link> 190606 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_5 data-md-state=indeterminate type=checkbox id=__nav_5_5 checked> <label class=md-nav__link for=__nav_5_5> series <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=series data-md-level=2> <label class=md-nav__title for=__nav_5_5> <span class="md-nav__icon md-icon"></span> series </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../series/develop-mirror-cheatsheet/ class=md-nav__link> develop-mirror-cheatsheet </a> </li> <li class=md-nav__item> <a href=../../series/how-to-coffee/ class=md-nav__link> how-to-coffee </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_6 data-md-state=indeterminate type=checkbox id=__nav_5_6 checked> <label class=md-nav__link for=__nav_5_6> snippets <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=snippets data-md-level=2> <label class=md-nav__title for=__nav_5_6> <span class="md-nav__icon md-icon"></span> snippets </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../snippets/abap/abap-gui-shortcuts/ class=md-nav__link> abap-abap-gui-shortcuts </a> </li> <li class=md-nav__item> <a href=../../snippets/emoji-snippets/ class=md-nav__link> emoji-snippets </a> </li> <li class=md-nav__item> <a href=../../snippets/others/cons-function/ class=md-nav__link> others-cons-function </a> </li> <li class=md-nav__item> <a href=../../snippets/others/function-prefix-words/ class=md-nav__link> others-function-prefix-words </a> </li> <li class=md-nav__item> <a href=../../snippets/others/markdown/ class=md-nav__link> others-markdown </a> </li> <li class=md-nav__item> <a href=../../snippets/others/regex/ class=md-nav__link> others-regex </a> </li> <li class=md-nav__item> <a href=../../snippets/others/test-if/ class=md-nav__link> others-test-if </a> </li> <li class=md-nav__item> <a href=../../snippets/others/xml/ class=md-nav__link> others-xml </a> </li> <li class=md-nav__item> <a href=../../snippets/python/pytest/ class=md-nav__link> python-pytest </a> </li> <li class=md-nav__item> <a href=../../snippets/python/python-builder/ class=md-nav__link> python-python-builder </a> </li> <li class=md-nav__item> <a href=../../snippets/python/python-decorator/ class=md-nav__link> python-python-decorator </a> </li> <li class=md-nav__item> <a href=../../snippets/python/python-http-request-soap-xml/ class=md-nav__link> python-python-http-request-soap-xml </a> </li> <li class=md-nav__item> <a href=../../snippets/python/python-logging/ class=md-nav__link> python-python-logging </a> </li> <li class=md-nav__item> <a href=../../snippets/python/python-mock/ class=md-nav__link> python-python-mock </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_7 data-md-state=indeterminate type=checkbox id=__nav_5_7 checked> <label class=md-nav__link for=__nav_5_7> template <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=template data-md-level=2> <label class=md-nav__title for=__nav_5_7> <span class="md-nav__icon md-icon"></span> template </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../template/css/focus-cursor-move/ class=md-nav__link> css-focus-cursor-move </a> </li> <li class=md-nav__item> <a href=../../template/javascript/fibonacci/ class=md-nav__link> javascript-fibonacci </a> </li> <li class=md-nav__item> <a href=../../template/javascript/jquery/ class=md-nav__link> javascript-jquery </a> </li> <li class=md-nav__item> <a href=../../template/javascript/trim/ class=md-nav__link> javascript-trim </a> </li> <li class=md-nav__item> <a href=../../template/javascript/url/ class=md-nav__link> javascript-url </a> </li> <li class=md-nav__item> <a href=../../template/javascript/uuid/ class=md-nav__link> javascript-uuid </a> </li> <li class=md-nav__item> <a href=../../template/javascript/voice/ class=md-nav__link> javascript-voice </a> </li> <li class=md-nav__item> <a href=../../template/sql/get-data-table-create-structure/ class=md-nav__link> sql-get-data-table-create-structure </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5_8 data-md-state=indeterminate type=checkbox id=__nav_5_8 checked> <label class=md-nav__link for=__nav_5_8> via <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=via data-md-level=2> <label class=md-nav__title for=__nav_5_8> <span class="md-nav__icon md-icon"></span> via </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../via/LGTM/ class=md-nav__link> LGTM </a> </li> <li class=md-nav__item> <a href=../../via/bilibili-rex/ class=md-nav__link> bilibili-rex </a> </li> <li class=md-nav__item> <a href=../../via/get_m3u8/ class=md-nav__link> get_m3u8 </a> </li> <li class=md-nav__item> <a href=../../via/github_check/ class=md-nav__link> github_check </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 data-md-state=indeterminate type=checkbox id=__nav_6 checked> <label class=md-nav__link for=__nav_6> about <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=about data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> about </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cheatsheet/ class=md-nav__link> cheatsheet </a> </li> <li class=md-nav__item> <a href=../../words/ class=md-nav__link> docs-words </a> </li> <li class=md-nav__item> <a href=../../.. class=md-nav__link> index </a> </li> <li class=md-nav__item> <a href=../../../what-i-use/ class=md-nav__link> what-i-use </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 data-md-state=indeterminate type=checkbox id=__nav_7 checked> <label class=md-nav__link for=__nav_7> weekly <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=weekly data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> weekly </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../weekly/weekly-2021-04-0x01/ class=md-nav__link> Weekly 2021-04-0x01 </a> </li> <li class=md-nav__item> <a href=../../../weekly/weekly-2021-04-0x02/ class=md-nav__link> Weekly 2021-04-0x02 </a> </li> <li class=md-nav__item> <a href=../../../weekly/weekly-2021-06-0x01/ class=md-nav__link> Weekly 2021-06-0x01 </a> </li> <li class=md-nav__item> <a href=../../../weekly/weekly-2021-06-0x02/ class=md-nav__link> Weekly 2021-06-0x02 </a> </li> <li class=md-nav__item> <a href=../../../weekly/weekly-2021-07-0x01/ class=md-nav__link> Weekly 2021-07-0x01 </a> </li> <li class=md-nav__item> <a href=../../../weekly/weekly-2021-07-0x02/ class=md-nav__link> Weekly 2021-07-0x02 </a> </li> <li class=md-nav__item> <a href=../../../weekly/weekly-2021-08-0x01/ class=md-nav__link> Weekly 2021-08-0x01 </a> </li> <li class=md-nav__item> <a href=../../../weekly/weekly-2020-10-0x01/ class=md-nav__link> weekly-2020-10-0x01 </a> </li> <li class=md-nav__item> <a href=../../../weekly/weekly-2020-10-0x02/ class=md-nav__link> weekly-2020-10-0x02 </a> </li> <li class=md-nav__item> <a href=../../../weekly/weekly-2020-11-0x01/ class=md-nav__link> weekly-2020-11-0x01 </a> </li> <li class=md-nav__item> <a href=../../../weekly/weekly-2020-11-0x02/ class=md-nav__link> weekly-2020-11-0x02 </a> </li> <li class=md-nav__item> <a href=../../../weekly/weekly-2020-11-0x03/ class=md-nav__link> weekly-2020-11-0x03 </a> </li> <li class=md-nav__item> <a href=../../../weekly/weekly-2020-11-0x04/ class=md-nav__link> weekly-2020-11-0x04 </a> </li> <li class=md-nav__item> <a href=../../../weekly/weekly-2020-12-0x01/ class=md-nav__link> weekly-2020-12-0x01 </a> </li> <li class=md-nav__item> <a href=../../../weekly/weekly-2020-12-0x02/ class=md-nav__link> weekly-2020-12-0x02 </a> </li> <li class=md-nav__item> <a href=../../../weekly/weekly-2020-12-0x03/ class=md-nav__link> weekly-2020-12-0x03 </a> </li> <li class=md-nav__item> <a href=../../../weekly/weekly-2021-01-0x01/ class=md-nav__link> weekly-2021-01-0x01 </a> </li> <li class=md-nav__item> <a href=../../../weekly/weekly-2021-01-0x02/ class=md-nav__link> weekly-2021-01-0x02 </a> </li> <li class=md-nav__item> <a href=../../../weekly/weekly-2021-02-0x01/ class=md-nav__link> weekly-2021-02-0x01 </a> </li> <li class=md-nav__item> <a href=../../../weekly/weekly-2021-02-0x02/ class=md-nav__link> weekly-2021-02-0x02 </a> </li> <li class=md-nav__item> <a href=../../../weekly/weekly-2021-02-0x03/ class=md-nav__link> weekly-2021-02-0x03 </a> </li> <li class=md-nav__item> <a href=../../../weekly/weekly-2021-02-0x04/ class=md-nav__link> weekly-2021-02-0x04 </a> </li> <li class=md-nav__item> <a href=../../../weekly/weekly-2021-03-0x01/ class=md-nav__link> weekly-2021-03-0x01 </a> </li> <li class=md-nav__item> <a href=../../../weekly/weekly-2021-03-0x02/ class=md-nav__link> weekly-2021-03-0x02 </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#_1 class=md-nav__link> 版权信息 </a> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> 版权信息 </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> 内容简介 </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> 赞誉 </a> </li> <li class=md-nav__item> <a href=#_5 class=md-nav__link> 赞誉 </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> 译者序 </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> 前言 </a> </li> <li class=md-nav__item> <a href=#_8 class=md-nav__link> 序言 </a> </li> <li class=md-nav__item> <a href=#i class=md-nav__link> 第Ⅰ部分 概览 </a> <nav class=md-nav aria-label="第Ⅰ部分 概览"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1 class=md-nav__link> 第1章 介绍 </a> <nav class=md-nav aria-label="第1章 介绍"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_9 class=md-nav__link> 系统管理员模式 </a> </li> <li class=md-nav__item> <a href=#googlesre class=md-nav__link> Google的解决之道：SRE </a> </li> <li class=md-nav__item> <a href=#sre class=md-nav__link> SRE方法论 </a> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2-google-sre class=md-nav__link> 第2章 Google 生产环境：SRE视角 </a> <nav class=md-nav aria-label="第2章 Google 生产环境：SRE视角"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_11 class=md-nav__link> 硬件 </a> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> 管理物理服务器的系统管理软件 </a> </li> <li class=md-nav__item> <a href=#_13 class=md-nav__link> 其他系统软件 </a> </li> <li class=md-nav__item> <a href=#_14 class=md-nav__link> 软件基础设施 </a> </li> <li class=md-nav__item> <a href=#_15 class=md-nav__link> 研发环境 </a> </li> <li class=md-nav__item> <a href=#_16 class=md-nav__link> 莎士比亚搜索：一个示范服务 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ii class=md-nav__link> 第Ⅱ部分 指导思想 </a> <nav class=md-nav aria-label="第Ⅱ部分 指导思想"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#3 class=md-nav__link> 第3章 拥抱风险 </a> <nav class=md-nav aria-label="第3章 拥抱风险"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_17 class=md-nav__link> 管理风险 </a> </li> <li class=md-nav__item> <a href=#_18 class=md-nav__link> 度量服务的风险 </a> </li> <li class=md-nav__item> <a href=#_19 class=md-nav__link> 服务的风险容忍度 </a> </li> <li class=md-nav__item> <a href=#_20 class=md-nav__link> 使用错误预算的目的 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#4 class=md-nav__link> 第4章 服务质量目标 </a> <nav class=md-nav aria-label="第4章 服务质量目标"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_21 class=md-nav__link> 服务质量术语 </a> </li> <li class=md-nav__item> <a href=#_22 class=md-nav__link> 指标在实践中的应用 </a> </li> <li class=md-nav__item> <a href=#_23 class=md-nav__link> 目标在实践中的应用 </a> </li> <li class=md-nav__item> <a href=#_24 class=md-nav__link> 协议在实践中的应用 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#5 class=md-nav__link> 第5章 减少琐事 </a> <nav class=md-nav aria-label="第5章 减少琐事"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_25 class=md-nav__link> 琐事的定义 </a> </li> <li class=md-nav__item> <a href=#_26 class=md-nav__link> 为什么琐事越少越好 </a> </li> <li class=md-nav__item> <a href=#_27 class=md-nav__link> 什么算作工程工作 </a> </li> <li class=md-nav__item> <a href=#_28 class=md-nav__link> 琐事繁多是不是一定不好 </a> </li> <li class=md-nav__item> <a href=#_29 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#6 class=md-nav__link> 第6章 分布式系统的监控 </a> <nav class=md-nav aria-label="第6章 分布式系统的监控"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_30 class=md-nav__link> 术语定义 </a> </li> <li class=md-nav__item> <a href=#_31 class=md-nav__link> 为什么要监控 </a> </li> <li class=md-nav__item> <a href=#_32 class=md-nav__link> 对监控系统设置合理预期 </a> </li> <li class=md-nav__item> <a href=#_33 class=md-nav__link> 现象与原因 </a> </li> <li class=md-nav__item> <a href=#_34 class=md-nav__link> 黑盒监控与白盒监控 </a> </li> <li class=md-nav__item> <a href=#4_1 class=md-nav__link> 4个黄金指标 </a> </li> <li class=md-nav__item> <a href=#_35 class=md-nav__link> 关于长尾问题 </a> </li> <li class=md-nav__item> <a href=#_36 class=md-nav__link> 度量指标时采用合适的精度 </a> </li> <li class=md-nav__item> <a href=#_37 class=md-nav__link> 简化，直到不能再简化 </a> </li> <li class=md-nav__item> <a href=#_38 class=md-nav__link> 将上述理念整合起来 </a> </li> <li class=md-nav__item> <a href=#_39 class=md-nav__link> 监控系统的长期维护 </a> </li> <li class=md-nav__item> <a href=#_40 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#7-google class=md-nav__link> 第7章 Google 的自动化系统的演进 </a> <nav class=md-nav aria-label="第7章 Google 的自动化系统的演进"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_41 class=md-nav__link> 自动化的价值 </a> </li> <li class=md-nav__item> <a href=#google-sre class=md-nav__link> 自动化对Google SRE的价值 </a> </li> <li class=md-nav__item> <a href=#_42 class=md-nav__link> 自动化的应用案例 </a> </li> <li class=md-nav__item> <a href=#_43 class=md-nav__link> 让自己脱离工作：自动化所有的东西 </a> </li> <li class=md-nav__item> <a href=#_44 class=md-nav__link> 舒缓疼痛：将自动化应用到集群上线中 </a> </li> <li class=md-nav__item> <a href=#borg class=md-nav__link> Borg：仓库规模计算机的诞生 </a> </li> <li class=md-nav__item> <a href=#_45 class=md-nav__link> 可靠性是最基本的功能 </a> </li> <li class=md-nav__item> <a href=#_46 class=md-nav__link> 建议 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#8 class=md-nav__link> 第8章 发布工程 </a> <nav class=md-nav aria-label="第8章 发布工程"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_47 class=md-nav__link> 发布工程师的角色 </a> </li> <li class=md-nav__item> <a href=#_48 class=md-nav__link> 发布工程哲学 </a> </li> <li class=md-nav__item> <a href=#_49 class=md-nav__link> 持续构建与部署 </a> </li> <li class=md-nav__item> <a href=#_50 class=md-nav__link> 配置管理 </a> </li> <li class=md-nav__item> <a href=#_51 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#9 class=md-nav__link> 第9章 简单化 </a> <nav class=md-nav aria-label="第9章 简单化"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_52 class=md-nav__link> 系统的稳定性与灵活性 </a> </li> <li class=md-nav__item> <a href=#_53 class=md-nav__link> 乏味是一种美德 </a> </li> <li class=md-nav__item> <a href=#_54 class=md-nav__link> 我绝对不放弃我的代码 </a> </li> <li class=md-nav__item> <a href=#_55 class=md-nav__link> “负代码行”作为一个指标 </a> </li> <li class=md-nav__item> <a href=#api class=md-nav__link> 最小 API </a> </li> <li class=md-nav__item> <a href=#_56 class=md-nav__link> 模块化 </a> </li> <li class=md-nav__item> <a href=#_57 class=md-nav__link> 发布的简单化 </a> </li> <li class=md-nav__item> <a href=#_58 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#iii class=md-nav__link> 第Ⅲ部分 具体实践 </a> <nav class=md-nav aria-label="第Ⅲ部分 具体实践"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#10 class=md-nav__link> 第10章 基于时间序列数据进行有效报警 </a> <nav class=md-nav aria-label="第10章 基于时间序列数据进行有效报警"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#borgmon class=md-nav__link> Borgmon的起源 </a> </li> <li class=md-nav__item> <a href=#_59 class=md-nav__link> 应用软件的监控埋点 </a> </li> <li class=md-nav__item> <a href=#_60 class=md-nav__link> 监控指标的收集 </a> </li> <li class=md-nav__item> <a href=#_61 class=md-nav__link> 时间序列数据的存储 </a> </li> <li class=md-nav__item> <a href=#borg_1 class=md-nav__link> Borg规则计算 </a> </li> <li class=md-nav__item> <a href=#_62 class=md-nav__link> 报警 </a> </li> <li class=md-nav__item> <a href=#_63 class=md-nav__link> 监控系统的分片机制 </a> </li> <li class=md-nav__item> <a href=#_64 class=md-nav__link> 黑盒监控 </a> </li> <li class=md-nav__item> <a href=#_65 class=md-nav__link> 配置文件的维护 </a> </li> <li class=md-nav__item> <a href=#_66 class=md-nav__link> 十年之后 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#11-on-call class=md-nav__link> 第11章 on-call轮值 </a> <nav class=md-nav aria-label="第11章 on-call轮值"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_67 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href=#on-call class=md-nav__link> on-call工程师的一天 </a> </li> <li class=md-nav__item> <a href=#on-call_1 class=md-nav__link> on-call工作平衡 </a> </li> <li class=md-nav__item> <a href=#_68 class=md-nav__link> 安全感 </a> </li> <li class=md-nav__item> <a href=#_69 class=md-nav__link> 避免运维压力过大 </a> </li> <li class=md-nav__item> <a href=#_70 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#12 class=md-nav__link> 第12章 有效的故障排查手段 </a> <nav class=md-nav aria-label="第12章 有效的故障排查手段"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_71 class=md-nav__link> 理论 </a> </li> <li class=md-nav__item> <a href=#_72 class=md-nav__link> 实践 </a> </li> <li class=md-nav__item> <a href=#_73 class=md-nav__link> 神奇的负面结果 </a> </li> <li class=md-nav__item> <a href=#_74 class=md-nav__link> 案例分析 </a> </li> <li class=md-nav__item> <a href=#_75 class=md-nav__link> 使故障排查更简单 </a> </li> <li class=md-nav__item> <a href=#_76 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#13 class=md-nav__link> 第13章 紧急事件响应 </a> <nav class=md-nav aria-label="第13章 紧急事件响应"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_77 class=md-nav__link> 当系统出现问题时怎么办 </a> </li> <li class=md-nav__item> <a href=#_78 class=md-nav__link> 测试导致的紧急事故 </a> </li> <li class=md-nav__item> <a href=#_79 class=md-nav__link> 变更部署带来的紧急事故 </a> </li> <li class=md-nav__item> <a href=#_80 class=md-nav__link> 流程导致的严重事故 </a> </li> <li class=md-nav__item> <a href=#_81 class=md-nav__link> 所有的问题都有解决方案 </a> </li> <li class=md-nav__item> <a href=#_82 class=md-nav__link> 向过去学习，而不是重复它 </a> </li> <li class=md-nav__item> <a href=#_83 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#14 class=md-nav__link> 第14章 紧急事故管理 </a> <nav class=md-nav aria-label="第14章 紧急事故管理"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_84 class=md-nav__link> 无流程管理的紧急事故 </a> </li> <li class=md-nav__item> <a href=#_85 class=md-nav__link> 对这次无流程管理的事故的剖析 </a> </li> <li class=md-nav__item> <a href=#_86 class=md-nav__link> 紧急事故的流程管理要素 </a> </li> <li class=md-nav__item> <a href=#_87 class=md-nav__link> 一次流程管理良好的事故 </a> </li> <li class=md-nav__item> <a href=#_88 class=md-nav__link> 什么时候对外宣布事故 </a> </li> <li class=md-nav__item> <a href=#_89 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#15 class=md-nav__link> 第15章 事后总结：从失败中学习 </a> <nav class=md-nav aria-label="第15章 事后总结：从失败中学习"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#google class=md-nav__link> Google的事后总结哲学 </a> </li> <li class=md-nav__item> <a href=#_90 class=md-nav__link> 协作和知识共享 </a> </li> <li class=md-nav__item> <a href=#_91 class=md-nav__link> 建立事后总结文化 </a> </li> <li class=md-nav__item> <a href=#_92 class=md-nav__link> 小结以及不断优化 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#16 class=md-nav__link> 第16章 跟踪故障 </a> <nav class=md-nav aria-label="第16章 跟踪故障"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#escalator class=md-nav__link> Escalator </a> </li> <li class=md-nav__item> <a href=#outalator class=md-nav__link> Outalator </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#17 class=md-nav__link> 第17章 测试可靠性 </a> <nav class=md-nav aria-label="第17章 测试可靠性"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_93 class=md-nav__link> 软件测试的类型 </a> </li> <li class=md-nav__item> <a href=#_94 class=md-nav__link> 创造一个构建和测试环境 </a> </li> <li class=md-nav__item> <a href=#_95 class=md-nav__link> 大规模测试 </a> </li> <li class=md-nav__item> <a href=#_96 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#18-sre class=md-nav__link> 第18章 SRE部门中的软件工程实践 </a> <nav class=md-nav aria-label="第18章 SRE部门中的软件工程实践"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sre_1 class=md-nav__link> 为什么软件工程项目对SRE很重要 </a> </li> <li class=md-nav__item> <a href=#auxon class=md-nav__link> Auxon 案例分析：项目背景和要解决的问题 </a> </li> <li class=md-nav__item> <a href=#_97 class=md-nav__link> 基于意图的容量规划 </a> </li> <li class=md-nav__item> <a href=#sre_2 class=md-nav__link> 在SRE团队中培养软件工程风气 </a> </li> <li class=md-nav__item> <a href=#_98 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#19 class=md-nav__link> 第19章 前端服务器的负载均衡 </a> <nav class=md-nav aria-label="第19章 前端服务器的负载均衡"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_99 class=md-nav__link> 有时候硬件并不能解决问题 </a> </li> <li class=md-nav__item> <a href=#dns class=md-nav__link> 使用DNS进行负载均衡 </a> </li> <li class=md-nav__item> <a href=#ip class=md-nav__link> 负载均衡：虚拟IP </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#20 class=md-nav__link> 第20章 数据中心内部的负载均衡系统 </a> <nav class=md-nav aria-label="第20章 数据中心内部的负载均衡系统"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_100 class=md-nav__link> 理想情况 </a> </li> <li class=md-nav__item> <a href=#_101 class=md-nav__link> 识别异常任务：流速控制和跛脚鸭任务 </a> </li> <li class=md-nav__item> <a href=#_102 class=md-nav__link> 利用划分子集限制连接池大小 </a> </li> <li class=md-nav__item> <a href=#_103 class=md-nav__link> 负载均衡策略 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#21 class=md-nav__link> 第21章 应对过载 </a> <nav class=md-nav aria-label="第21章 应对过载"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#qps class=md-nav__link> QPS陷阱 </a> </li> <li class=md-nav__item> <a href=#_104 class=md-nav__link> 给每个用户设置限制 </a> </li> <li class=md-nav__item> <a href=#_105 class=md-nav__link> 客户端侧的节流机制 </a> </li> <li class=md-nav__item> <a href=#_106 class=md-nav__link> 重要性 </a> </li> <li class=md-nav__item> <a href=#_107 class=md-nav__link> 资源利用率信号 </a> </li> <li class=md-nav__item> <a href=#_108 class=md-nav__link> 处理过载错误 </a> </li> <li class=md-nav__item> <a href=#_109 class=md-nav__link> 连接造成的负载 </a> </li> <li class=md-nav__item> <a href=#_110 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#22 class=md-nav__link> 第22章 处理连锁故障 </a> <nav class=md-nav aria-label="第22章 处理连锁故障"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_111 class=md-nav__link> 连锁故障产生的原因和如何从设计上避免 </a> </li> <li class=md-nav__item> <a href=#_112 class=md-nav__link> 防止软件服务器过载 </a> </li> <li class=md-nav__item> <a href=#_113 class=md-nav__link> 慢启动和冷缓存 </a> </li> <li class=md-nav__item> <a href=#_114 class=md-nav__link> 连锁故障的触发条件 </a> </li> <li class=md-nav__item> <a href=#_115 class=md-nav__link> 连锁故障的测试 </a> </li> <li class=md-nav__item> <a href=#_116 class=md-nav__link> 解决连锁故障的立即步骤 </a> </li> <li class=md-nav__item> <a href=#_117 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#23 class=md-nav__link> 第23章 管理关键状态：利用分布式共识来提高可靠性 </a> <nav class=md-nav aria-label="第23章 管理关键状态：利用分布式共识来提高可靠性"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_118 class=md-nav__link> 使用共识系统的动力：分布式系统协调失败 </a> </li> <li class=md-nav__item> <a href=#_119 class=md-nav__link> 分布式共识是如何工作的 </a> </li> <li class=md-nav__item> <a href=#_120 class=md-nav__link> 分布式共识的系统架构模式 </a> </li> <li class=md-nav__item> <a href=#_121 class=md-nav__link> 分布式共识系统的性能问题 </a> </li> <li class=md-nav__item> <a href=#_122 class=md-nav__link> 分布式共识系统的部署 </a> </li> <li class=md-nav__item> <a href=#_123 class=md-nav__link> 对分布式共识系统的监控 </a> </li> <li class=md-nav__item> <a href=#_124 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#24 class=md-nav__link> 第24章 分布式周期性任务系统 </a> <nav class=md-nav aria-label="第24章 分布式周期性任务系统"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cron class=md-nav__link> Cron </a> </li> <li class=md-nav__item> <a href=#cron_1 class=md-nav__link> Cron任务和幂等性 </a> </li> <li class=md-nav__item> <a href=#cron_2 class=md-nav__link> 大规模Cron系统 </a> </li> <li class=md-nav__item> <a href=#google-cron class=md-nav__link> Google Cron系统的构建过程 </a> </li> <li class=md-nav__item> <a href=#_125 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#25 class=md-nav__link> 第25章 数据处理流水线 </a> <nav class=md-nav aria-label="第25章 数据处理流水线"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_126 class=md-nav__link> 流水线设计模式的起源 </a> </li> <li class=md-nav__item> <a href=#_127 class=md-nav__link> 简单流水线设计模式与大数据 </a> </li> <li class=md-nav__item> <a href=#_128 class=md-nav__link> 周期性流水线模式的挑战 </a> </li> <li class=md-nav__item> <a href=#_129 class=md-nav__link> 工作分发不均造成的问题 </a> </li> <li class=md-nav__item> <a href=#_130 class=md-nav__link> 分布式环境中周期性数据流水线的缺点 </a> </li> <li class=md-nav__item> <a href=#google-workflow class=md-nav__link> Google Workflow简介 </a> </li> <li class=md-nav__item> <a href=#workflow class=md-nav__link> Workflow中的执行阶段 </a> </li> <li class=md-nav__item> <a href=#_131 class=md-nav__link> 保障业务的持续性 </a> </li> <li class=md-nav__item> <a href=#_132 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#26 class=md-nav__link> 第26章 数据完整性：读写一致 </a> <nav class=md-nav aria-label="第26章 数据完整性：读写一致"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_133 class=md-nav__link> 数据完整性的强需求 </a> </li> <li class=md-nav__item> <a href=#google-sre_1 class=md-nav__link> 保障数据完整性和可用性：Google SRE的目标 </a> </li> <li class=md-nav__item> <a href=#google-sre_2 class=md-nav__link> Google SRE保障数据完整性的手段 </a> </li> <li class=md-nav__item> <a href=#_134 class=md-nav__link> 案例分析 </a> </li> <li class=md-nav__item> <a href=#sre_3 class=md-nav__link> SRE的基本理念在数据完整性上的应用 </a> </li> <li class=md-nav__item> <a href=#_135 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#27 class=md-nav__link> 第27章 可靠地进行产品的大规模发布 </a> <nav class=md-nav aria-label="第27章 可靠地进行产品的大规模发布"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_136 class=md-nav__link> 发布协调工程师 </a> </li> <li class=md-nav__item> <a href=#_137 class=md-nav__link> 建立发布流程 </a> </li> <li class=md-nav__item> <a href=#_138 class=md-nav__link> 起草一个发布检查列表 </a> </li> <li class=md-nav__item> <a href=#_139 class=md-nav__link> 可靠发布所需要的方法论 </a> </li> <li class=md-nav__item> <a href=#lce class=md-nav__link> LCE的发展 </a> </li> <li class=md-nav__item> <a href=#_140 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#iv class=md-nav__link> 第Ⅳ部分 管理 </a> <nav class=md-nav aria-label="第Ⅳ部分 管理"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#28-sreon-call class=md-nav__link> 第28章 迅速培养SRE加入on-call </a> <nav class=md-nav aria-label="第28章 迅速培养SRE加入on-call"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sre_4 class=md-nav__link> 新的SRE已经招聘到了，接下来怎么办 </a> </li> <li class=md-nav__item> <a href=#_141 class=md-nav__link> 培训初期：重体系，而非混乱 </a> </li> <li class=md-nav__item> <a href=#_142 class=md-nav__link> 培养反向工程能力和随机应变能力 </a> </li> <li class=md-nav__item> <a href=#on-call5 class=md-nav__link> 有抱负的on-call工程师的5个特点 </a> </li> <li class=md-nav__item> <a href=#on-call_2 class=md-nav__link> on-call之后：通过培训的仪式感，以及日后的持续教育 </a> </li> <li class=md-nav__item> <a href=#_143 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#29 class=md-nav__link> 第29章 处理中断性任务 </a> <nav class=md-nav aria-label="第29章 处理中断性任务"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_144 class=md-nav__link> 管理运维负载 </a> </li> <li class=md-nav__item> <a href=#_145 class=md-nav__link> 如何决策对中断性任务的处理策略 </a> </li> <li class=md-nav__item> <a href=#_146 class=md-nav__link> 不完美的机器 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#30-sre class=md-nav__link> 第30章 通过嵌入SRE的方式帮助团队从运维过载中恢复 </a> <nav class=md-nav aria-label="第30章 通过嵌入SRE的方式帮助团队从运维过载中恢复"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_147 class=md-nav__link> 第一阶段：了解服务，了解上下文 </a> </li> <li class=md-nav__item> <a href=#_148 class=md-nav__link> 第二阶段：分享背景知识 </a> </li> <li class=md-nav__item> <a href=#_149 class=md-nav__link> 第三阶段：主导改变 </a> </li> <li class=md-nav__item> <a href=#_150 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#31-sre class=md-nav__link> 第31章 SRE与其他团队的沟通与协作 </a> <nav class=md-nav aria-label="第31章 SRE与其他团队的沟通与协作"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_151 class=md-nav__link> 沟通：生产会议 </a> </li> <li class=md-nav__item> <a href=#sre_5 class=md-nav__link> SRE的内部协作 </a> </li> <li class=md-nav__item> <a href=#sreviceroy class=md-nav__link> SRE内部的协作案例分析：Viceroy </a> </li> <li class=md-nav__item> <a href=#sre_6 class=md-nav__link> SRE与其他部门之间的协作 </a> </li> <li class=md-nav__item> <a href=#dfpf1 class=md-nav__link> 案例分析：将DFP迁移到F1 </a> </li> <li class=md-nav__item> <a href=#_152 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#32-sre class=md-nav__link> 第32章 SRE参与模式的演进历程 </a> <nav class=md-nav aria-label="第32章 SRE参与模式的演进历程"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sre_7 class=md-nav__link> SRE 参与模式：是什么、怎么样以及为什么 </a> </li> <li class=md-nav__item> <a href=#prr class=md-nav__link> PRR 模型 </a> </li> <li class=md-nav__item> <a href=#sre_8 class=md-nav__link> SRE参与模型 </a> </li> <li class=md-nav__item> <a href=#prrprr class=md-nav__link> PRR：简单PRR模型 </a> </li> <li class=md-nav__item> <a href=#prr_1 class=md-nav__link> 简单PRR模型的演进：早期参与模型 </a> </li> <li class=md-nav__item> <a href=#sre_9 class=md-nav__link> 不断发展的服务：框架和SRE平台 </a> </li> <li class=md-nav__item> <a href=#_153 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#v class=md-nav__link> 第Ⅴ部分 结束语 </a> <nav class=md-nav aria-label="第Ⅴ部分 结束语"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#33 class=md-nav__link> 第33章 其他行业的实践经验 </a> <nav class=md-nav aria-label="第33章 其他行业的实践经验"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sre_10 class=md-nav__link> 有其他行业背景的资深SRE </a> </li> <li class=md-nav__item> <a href=#_154 class=md-nav__link> 灾难预案与演习 </a> </li> <li class=md-nav__item> <a href=#_155 class=md-nav__link> 事后总结的文化 </a> </li> <li class=md-nav__item> <a href=#_156 class=md-nav__link> 将重复性工作自动化，消除运维负载 </a> </li> <li class=md-nav__item> <a href=#_157 class=md-nav__link> 结构化和理性的决策 </a> </li> <li class=md-nav__item> <a href=#_158 class=md-nav__link> 小结 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#34 class=md-nav__link> 第34章 结语 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#a class=md-nav__link> 附录A 系统可用性 </a> </li> <li class=md-nav__item> <a href=#b class=md-nav__link> 附录B 生产环境运维过程中的最佳实践 </a> </li> <li class=md-nav__item> <a href=#c class=md-nav__link> 附录C 事故状态文档示范 </a> </li> <li class=md-nav__item> <a href=#d class=md-nav__link> 附录D 事后总结示范 </a> </li> <li class=md-nav__item> <a href=#e class=md-nav__link> 附录E 发布协调检查列表 </a> </li> <li class=md-nav__item> <a href=#f class=md-nav__link> 附录F 生产环境会议记录示范 </a> </li> <li class=md-nav__item> <a href=#_159 class=md-nav__link> 参考文献 </a> </li> <li class=md-nav__item> <a href=#_160 class=md-nav__link> 索引 </a> </li> <li class=md-nav__item> <a href=#_161 class=md-nav__link> 关于编著者 </a> </li> <li class=md-nav__item> <a href=#_162 class=md-nav__link> 封面介绍 </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/HackettYu/hackettyu-mkdocs-material/blob/master/docs/docs/books/ISBN-9787508648286.md title=编辑此页 class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1>ISBN-9787508648286</h1> <blockquote> <p>description: [hakcettyu's note]</p> <p>weread: <a href=https://weread.qq.com/web/reader/72c323007190dfe972c1295>https://weread.qq.com/web/reader/72c323007190dfe972c1295</a> douban: <a href=https://book.douban.com/subject/26875239/ >https://book.douban.com/subject/26875239/</a></p> </blockquote> <h2 id=_1>版权信息<a class=headerlink href=#_1 title="Permanent link">&para;</a></h2> <h2 id=_2>版权信息<a class=headerlink href=#_2 title="Permanent link">&para;</a></h2> <h2 id=_3>内容简介<a class=headerlink href=#_3 title="Permanent link">&para;</a></h2> <h2 id=_4>赞誉<a class=headerlink href=#_4 title="Permanent link">&para;</a></h2> <h2 id=_5>赞誉<a class=headerlink href=#_5 title="Permanent link">&para;</a></h2> <h2 id=_6>译者序<a class=headerlink href=#_6 title="Permanent link">&para;</a></h2> <h2 id=_7>前言<a class=headerlink href=#_7 title="Permanent link">&para;</a></h2> <h2 id=_8>序言<a class=headerlink href=#_8 title="Permanent link">&para;</a></h2> <h2 id=i>第Ⅰ部分 概览<a class=headerlink href=#i title="Permanent link">&para;</a></h2> <h3 id=1>第1章 介绍<a class=headerlink href=#1 title="Permanent link">&para;</a></h3> <h4 id=_9>系统管理员模式<a class=headerlink href=#_9 title="Permanent link">&para;</a></h4> <h4 id=googlesre>Google的解决之道：SRE<a class=headerlink href=#googlesre title="Permanent link">&para;</a></h4> <h4 id=sre>SRE方法论<a class=headerlink href=#sre title="Permanent link">&para;</a></h4> <h4 id=_10>小结<a class=headerlink href=#_10 title="Permanent link">&para;</a></h4> <h3 id=2-google-sre>第2章 Google 生产环境：SRE视角<a class=headerlink href=#2-google-sre title="Permanent link">&para;</a></h3> <h4 id=_11>硬件<a class=headerlink href=#_11 title="Permanent link">&para;</a></h4> <h4 id=_12>管理物理服务器的系统管理软件<a class=headerlink href=#_12 title="Permanent link">&para;</a></h4> <h4 id=_13>其他系统软件<a class=headerlink href=#_13 title="Permanent link">&para;</a></h4> <h4 id=_14>软件基础设施<a class=headerlink href=#_14 title="Permanent link">&para;</a></h4> <h4 id=_15>研发环境<a class=headerlink href=#_15 title="Permanent link">&para;</a></h4> <h4 id=_16>莎士比亚搜索：一个示范服务<a class=headerlink href=#_16 title="Permanent link">&para;</a></h4> <h2 id=ii>第Ⅱ部分 指导思想<a class=headerlink href=#ii title="Permanent link">&para;</a></h2> <h3 id=3>第3章 拥抱风险<a class=headerlink href=#3 title="Permanent link">&para;</a></h3> <h4 id=_17>管理风险<a class=headerlink href=#_17 title="Permanent link">&para;</a></h4> <h4 id=_18>度量服务的风险<a class=headerlink href=#_18 title="Permanent link">&para;</a></h4> <h4 id=_19>服务的风险容忍度<a class=headerlink href=#_19 title="Permanent link">&para;</a></h4> <h4 id=_20>使用错误预算的目的<a class=headerlink href=#_20 title="Permanent link">&para;</a></h4> <h3 id=4>第4章 服务质量目标<a class=headerlink href=#4 title="Permanent link">&para;</a></h3> <h4 id=_21>服务质量术语<a class=headerlink href=#_21 title="Permanent link">&para;</a></h4> <h4 id=_22>指标在实践中的应用<a class=headerlink href=#_22 title="Permanent link">&para;</a></h4> <h4 id=_23>目标在实践中的应用<a class=headerlink href=#_23 title="Permanent link">&para;</a></h4> <h4 id=_24>协议在实践中的应用<a class=headerlink href=#_24 title="Permanent link">&para;</a></h4> <h3 id=5>第5章 减少琐事<a class=headerlink href=#5 title="Permanent link">&para;</a></h3> <h4 id=_25>琐事的定义<a class=headerlink href=#_25 title="Permanent link">&para;</a></h4> <h4 id=_26>为什么琐事越少越好<a class=headerlink href=#_26 title="Permanent link">&para;</a></h4> <h4 id=_27>什么算作工程工作<a class=headerlink href=#_27 title="Permanent link">&para;</a></h4> <h4 id=_28>琐事繁多是不是一定不好<a class=headerlink href=#_28 title="Permanent link">&para;</a></h4> <h4 id=_29>小结<a class=headerlink href=#_29 title="Permanent link">&para;</a></h4> <h3 id=6>第6章 分布式系统的监控<a class=headerlink href=#6 title="Permanent link">&para;</a></h3> <h4 id=_30>术语定义<a class=headerlink href=#_30 title="Permanent link">&para;</a></h4> <h4 id=_31>为什么要监控<a class=headerlink href=#_31 title="Permanent link">&para;</a></h4> <h4 id=_32>对监控系统设置合理预期<a class=headerlink href=#_32 title="Permanent link">&para;</a></h4> <h4 id=_33>现象与原因<a class=headerlink href=#_33 title="Permanent link">&para;</a></h4> <h4 id=_34>黑盒监控与白盒监控<a class=headerlink href=#_34 title="Permanent link">&para;</a></h4> <h4 id=4_1>4个黄金指标<a class=headerlink href=#4_1 title="Permanent link">&para;</a></h4> <h4 id=_35>关于长尾问题<a class=headerlink href=#_35 title="Permanent link">&para;</a></h4> <h4 id=_36>度量指标时采用合适的精度<a class=headerlink href=#_36 title="Permanent link">&para;</a></h4> <h4 id=_37>简化，直到不能再简化<a class=headerlink href=#_37 title="Permanent link">&para;</a></h4> <h4 id=_38>将上述理念整合起来<a class=headerlink href=#_38 title="Permanent link">&para;</a></h4> <h4 id=_39>监控系统的长期维护<a class=headerlink href=#_39 title="Permanent link">&para;</a></h4> <h4 id=_40>小结<a class=headerlink href=#_40 title="Permanent link">&para;</a></h4> <h3 id=7-google>第7章 Google 的自动化系统的演进<a class=headerlink href=#7-google title="Permanent link">&para;</a></h3> <h4 id=_41>自动化的价值<a class=headerlink href=#_41 title="Permanent link">&para;</a></h4> <h4 id=google-sre>自动化对Google SRE的价值<a class=headerlink href=#google-sre title="Permanent link">&para;</a></h4> <h4 id=_42>自动化的应用案例<a class=headerlink href=#_42 title="Permanent link">&para;</a></h4> <h4 id=_43>让自己脱离工作：自动化所有的东西<a class=headerlink href=#_43 title="Permanent link">&para;</a></h4> <h4 id=_44>舒缓疼痛：将自动化应用到集群上线中<a class=headerlink href=#_44 title="Permanent link">&para;</a></h4> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>我们意识到，从“Python单元测试发现错误配置”到“Python代码修复错误配置”的演进能够使我们更快解决这些问题。</p> <h4 id=borg>Borg：仓库规模计算机的诞生<a class=headerlink href=#borg title="Permanent link">&para;</a></h4> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>日志消息解析：SSH进入每一台机器，用正则表达式过滤日志。</p> <h4 id=_45>可靠性是最基本的功能<a class=headerlink href=#_45 title="Permanent link">&para;</a></h4> <h4 id=_46>建议<a class=headerlink href=#_46 title="Permanent link">&para;</a></h4> <h3 id=8>第8章 发布工程<a class=headerlink href=#8 title="Permanent link">&para;</a></h3> <h4 id=_47>发布工程师的角色<a class=headerlink href=#_47 title="Permanent link">&para;</a></h4> <h4 id=_48>发布工程哲学<a class=headerlink href=#_48 title="Permanent link">&para;</a></h4> <h4 id=_49>持续构建与部署<a class=headerlink href=#_49 title="Permanent link">&para;</a></h4> <h4 id=_50>配置管理<a class=headerlink href=#_50 title="Permanent link">&para;</a></h4> <h4 id=_51>小结<a class=headerlink href=#_51 title="Permanent link">&para;</a></h4> <h3 id=9>第9章 简单化<a class=headerlink href=#9 title="Permanent link">&para;</a></h3> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>软件系统本质上是动态的和不稳定的。[25]只有真空中的软件系统才是永远稳定的。如果我们不再修改代码，就不会引入新的Bug。如果底层硬件或类库永远不变，这些组件也就不会引入Bug。</p> <h4 id=_52>系统的稳定性与灵活性<a class=headerlink href=#_52 title="Permanent link">&para;</a></h4> <h4 id=_53>乏味是一种美德<a class=headerlink href=#_53 title="Permanent link">&para;</a></h4> <h4 id=_54>我绝对不放弃我的代码<a class=headerlink href=#_54 title="Permanent link">&para;</a></h4> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>源代码控制系统中的更改反转很容易，数百行的注释代码则会造成干扰和混乱（尤其是当源文件继续演进时）；那些由于功能开关没有启用而没有被执行的代码，就像一个定时炸弹一样等待爆炸</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>极端地说，当你指望一个Web服务7×24可用时，在某种程度上，每一行新代码都是负担。</p> <h4 id=_55>“负代码行”作为一个指标<a class=headerlink href=#_55 title="Permanent link">&para;</a></h4> <h4 id=api>最小 API<a class=headerlink href=#api title="Permanent link">&para;</a></h4> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>“不是在不能添加更多的时候，而是没有什么可以去掉的时候，才能达到完美。”</p> <h4 id=_56>模块化<a class=headerlink href=#_56 title="Permanent link">&para;</a></h4> <h4 id=_57>发布的简单化<a class=headerlink href=#_57 title="Permanent link">&para;</a></h4> <h4 id=_58>小结<a class=headerlink href=#_58 title="Permanent link">&para;</a></h4> <h2 id=iii>第Ⅲ部分 具体实践<a class=headerlink href=#iii title="Permanent link">&para;</a></h2> <h3 id=10>第10章 基于时间序列数据进行有效报警<a class=headerlink href=#10 title="Permanent link">&para;</a></h3> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>Google的监控系统不仅要分析一些简单的系统指标（比如一台在欧洲Web服务器的平均响应时间），还需要分析更高抽象级别的指标（例如整个欧洲地区Web服务器的响应时间分布情况）</p> <p><mark>说明长尾，或译长尾效应，最初由《连线》的总编辑克里斯·安德森于2004年发表于自家的杂志中，用来描述诸如亚马逊公司、Netflix和Real.com/Rhapsody之类的网站之商业和经济模式。是指那些原来不受到重视的销量小但种类多的产品或服务由于总量巨大，累积起来的总收益超过主流产品的现象。</mark></p> <blockquote> <p>长尾效应</p> </blockquote> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>这个新模型将收集时间序列信息作为监控系统的首要任务，同时发展了一种丰富的时间序列信息操作语言，通过使用该语言将数据转化为图表和报警取代了以前的探针脚本。</p> <h4 id=borgmon>Borgmon的起源<a class=headerlink href=#borgmon title="Permanent link">&para;</a></h4> <h4 id=_59>应用软件的监控埋点<a class=headerlink href=#_59 title="Permanent link">&para;</a></h4> <p>Go语言中的expvar标准库[9]和它的JSON输出格式也提供了类似的API。</p> <h4 id=_60>监控指标的收集<a class=headerlink href=#_60 title="Permanent link">&para;</a></h4> <h4 id=_61>时间序列数据的存储<a class=headerlink href=#_61 title="Permanent link">&para;</a></h4> <h4 id=borg_1>Borg规则计算<a class=headerlink href=#borg_1 title="Permanent link">&para;</a></h4> <h4 id=_62>报警<a class=headerlink href=#_62 title="Permanent link">&para;</a></h4> <h4 id=_63>监控系统的分片机制<a class=headerlink href=#_63 title="Permanent link">&para;</a></h4> <h4 id=_64>黑盒监控<a class=headerlink href=#_64 title="Permanent link">&para;</a></h4> <h4 id=_65>配置文件的维护<a class=headerlink href=#_65 title="Permanent link">&para;</a></h4> <h4 id=_66>十年之后<a class=headerlink href=#_66 title="Permanent link">&para;</a></h4> <h3 id=11-on-call>第11章 on-call轮值<a class=headerlink href=#11-on-call title="Permanent link">&para;</a></h3> <h4 id=_67>介绍<a class=headerlink href=#_67 title="Permanent link">&para;</a></h4> <h4 id=on-call>on-call工程师的一天<a class=headerlink href=#on-call title="Permanent link">&para;</a></h4> <h4 id=on-call_1>on-call工作平衡<a class=headerlink href=#on-call_1 title="Permanent link">&para;</a></h4> <h4 id=_68>安全感<a class=headerlink href=#_68 title="Permanent link">&para;</a></h4> <h4 id=_69>避免运维压力过大<a class=headerlink href=#_69 title="Permanent link">&para;</a></h4> <h4 id=_70>小结<a class=headerlink href=#_70 title="Permanent link">&para;</a></h4> <h3 id=12>第12章 有效的故障排查手段<a class=headerlink href=#12 title="Permanent link">&para;</a></h3> <h4 id=_71>理论<a class=headerlink href=#_71 title="Permanent link">&para;</a></h4> <h4 id=_72>实践<a class=headerlink href=#_72 title="Permanent link">&para;</a></h4> <h4 id=_73>神奇的负面结果<a class=headerlink href=#_73 title="Permanent link">&para;</a></h4> <h4 id=_74>案例分析<a class=headerlink href=#_74 title="Permanent link">&para;</a></h4> <h4 id=_75>使故障排查更简单<a class=headerlink href=#_75 title="Permanent link">&para;</a></h4> <h4 id=_76>小结<a class=headerlink href=#_76 title="Permanent link">&para;</a></h4> <h3 id=13>第13章 紧急事件响应<a class=headerlink href=#13 title="Permanent link">&para;</a></h3> <h4 id=_77>当系统出现问题时怎么办<a class=headerlink href=#_77 title="Permanent link">&para;</a></h4> <h4 id=_78>测试导致的紧急事故<a class=headerlink href=#_78 title="Permanent link">&para;</a></h4> <h4 id=_79>变更部署带来的紧急事故<a class=headerlink href=#_79 title="Permanent link">&para;</a></h4> <h4 id=_80>流程导致的严重事故<a class=headerlink href=#_80 title="Permanent link">&para;</a></h4> <h4 id=_81>所有的问题都有解决方案<a class=headerlink href=#_81 title="Permanent link">&para;</a></h4> <h4 id=_82>向过去学习，而不是重复它<a class=headerlink href=#_82 title="Permanent link">&para;</a></h4> <h4 id=_83>小结<a class=headerlink href=#_83 title="Permanent link">&para;</a></h4> <h3 id=14>第14章 紧急事故管理<a class=headerlink href=#14 title="Permanent link">&para;</a></h3> <h4 id=_84>无流程管理的紧急事故<a class=headerlink href=#_84 title="Permanent link">&para;</a></h4> <h4 id=_85>对这次无流程管理的事故的剖析<a class=headerlink href=#_85 title="Permanent link">&para;</a></h4> <h4 id=_86>紧急事故的流程管理要素<a class=headerlink href=#_86 title="Permanent link">&para;</a></h4> <h4 id=_87>一次流程管理良好的事故<a class=headerlink href=#_87 title="Permanent link">&para;</a></h4> <h4 id=_88>什么时候对外宣布事故<a class=headerlink href=#_88 title="Permanent link">&para;</a></h4> <h4 id=_89>小结<a class=headerlink href=#_89 title="Permanent link">&para;</a></h4> <h3 id=15>第15章 事后总结：从失败中学习<a class=headerlink href=#15 title="Permanent link">&para;</a></h3> <h4 id=google>Google的事后总结哲学<a class=headerlink href=#google title="Permanent link">&para;</a></h4> <h4 id=_90>协作和知识共享<a class=headerlink href=#_90 title="Permanent link">&para;</a></h4> <h4 id=_91>建立事后总结文化<a class=headerlink href=#_91 title="Permanent link">&para;</a></h4> <h4 id=_92>小结以及不断优化<a class=headerlink href=#_92 title="Permanent link">&para;</a></h4> <h3 id=16>第16章 跟踪故障<a class=headerlink href=#16 title="Permanent link">&para;</a></h3> <h4 id=escalator>Escalator<a class=headerlink href=#escalator title="Permanent link">&para;</a></h4> <h4 id=outalator>Outalator<a class=headerlink href=#outalator title="Permanent link">&para;</a></h4> <h3 id=17>第17章 测试可靠性<a class=headerlink href=#17 title="Permanent link">&para;</a></h3> <h4 id=_93>软件测试的类型<a class=headerlink href=#_93 title="Permanent link">&para;</a></h4> <h4 id=_94>创造一个构建和测试环境<a class=headerlink href=#_94 title="Permanent link">&para;</a></h4> <h4 id=_95>大规模测试<a class=headerlink href=#_95 title="Permanent link">&para;</a></h4> <h4 id=_96>小结<a class=headerlink href=#_96 title="Permanent link">&para;</a></h4> <h3 id=18-sre>第18章 SRE部门中的软件工程实践<a class=headerlink href=#18-sre title="Permanent link">&para;</a></h3> <h4 id=sre_1>为什么软件工程项目对SRE很重要<a class=headerlink href=#sre_1 title="Permanent link">&para;</a></h4> <h4 id=auxon>Auxon 案例分析：项目背景和要解决的问题<a class=headerlink href=#auxon title="Permanent link">&para;</a></h4> <h4 id=_97>基于意图的容量规划<a class=headerlink href=#_97 title="Permanent link">&para;</a></h4> <h4 id=sre_2>在SRE团队中培养软件工程风气<a class=headerlink href=#sre_2 title="Permanent link">&para;</a></h4> <h4 id=_98>小结<a class=headerlink href=#_98 title="Permanent link">&para;</a></h4> <h3 id=19>第19章 前端服务器的负载均衡<a class=headerlink href=#19 title="Permanent link">&para;</a></h3> <h4 id=_99>有时候硬件并不能解决问题<a class=headerlink href=#_99 title="Permanent link">&para;</a></h4> <h4 id=dns>使用DNS进行负载均衡<a class=headerlink href=#dns title="Permanent link">&para;</a></h4> <h4 id=ip>负载均衡：虚拟IP<a class=headerlink href=#ip title="Permanent link">&para;</a></h4> <h3 id=20>第20章 数据中心内部的负载均衡系统<a class=headerlink href=#20 title="Permanent link">&para;</a></h3> <h4 id=_100>理想情况<a class=headerlink href=#_100 title="Permanent link">&para;</a></h4> <h4 id=_101>识别异常任务：流速控制和跛脚鸭任务<a class=headerlink href=#_101 title="Permanent link">&para;</a></h4> <h4 id=_102>利用划分子集限制连接池大小<a class=headerlink href=#_102 title="Permanent link">&para;</a></h4> <h4 id=_103>负载均衡策略<a class=headerlink href=#_103 title="Permanent link">&para;</a></h4> <h3 id=21>第21章 应对过载<a class=headerlink href=#21 title="Permanent link">&para;</a></h3> <h4 id=qps>QPS陷阱<a class=headerlink href=#qps title="Permanent link">&para;</a></h4> <h4 id=_104>给每个用户设置限制<a class=headerlink href=#_104 title="Permanent link">&para;</a></h4> <h4 id=_105>客户端侧的节流机制<a class=headerlink href=#_105 title="Permanent link">&para;</a></h4> <h4 id=_106>重要性<a class=headerlink href=#_106 title="Permanent link">&para;</a></h4> <h4 id=_107>资源利用率信号<a class=headerlink href=#_107 title="Permanent link">&para;</a></h4> <h4 id=_108>处理过载错误<a class=headerlink href=#_108 title="Permanent link">&para;</a></h4> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>从负载均衡策略的角度看，重试请求和新请求是无法区分的。</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>第一，我们增加了每次请求重试次数限制，限制重试3次。某个请求如果已经失败3次，我们会将该错误回应给调用者。这里的逻辑是指，如果一个请求已经三次选择了过载的任务，再重试也很可能无济于事，这时整个数据中心可能都处于过载状态。 第二，我们实现了一个每客户端的重试限制。每个客户端都跟踪重试与请求的比例。一个请求在这个比例低于10%的时候才会重试。这里的逻辑是，如果仅仅只有一小部分任务处于过载状态，那么重试数量应该是相对较小的。</p> <h4 id=_109>连接造成的负载<a class=headerlink href=#_109 title="Permanent link">&para;</a></h4> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>强制要求批处理任务使用某些特定的批处理代理后端任务，这些代理仅仅转发请求，同时将回复转发给客户端。于是，请求路线从“批处理客户端→后端”变为“批处理客户端→批处理代理→后端”。在这种情况下，当大型的批处理任务执行时，只有批处理代理任务会受到影响，而保护了真正的后端任务（也随之保护了其他的高优先级客户端）。这里，批处理代理任务实际充当了保险丝的角色。另外一个使用代理方式的优势是，我们可以减少后端连接的数量，同时提高负载均衡的效率（例如，代理任务可以使用更大的子集数量，同时可以更好地进行负载均衡）。</p> <h4 id=_110>小结<a class=headerlink href=#_110 title="Permanent link">&para;</a></h4> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>一个常见的错误是认为过载后端应该拒绝和停止接受所有请求。然而，这个假设实际上是与可靠的负载均衡目标相违背的。我们实际上希望客户端可以尽可能地继续接受请求，然后在有可用资源时才处理。某个设计良好的后端程序，基于可靠的负载均衡策略的支持，应该仅仅接受它能处理的请求，而优雅地拒绝其他请求。</p> <h3 id=22>第22章 处理连锁故障<a class=headerlink href=#22 title="Permanent link">&para;</a></h3> <p>正反馈循环（positive feedback）</p> <h4 id=_111>连锁故障产生的原因和如何从设计上避免<a class=headerlink href=#_111 title="Permanent link">&para;</a></h4> <p>最常见的连锁故障触发原因是服务器过载。</p> <p>正在处理的（in-flight）</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>一个糟糕透顶的场景：由于CPU资源减少，请求处理速度变慢，内存使用率上升，导致GC触发次数增多，导致CPU资源的进一步减少。我们将此称之为“GC死亡螺旋”。</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>缓存命中率下降</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>文件描述符（file descriptor）不足可能会导致无法建立网络连接，进而导致健康检查失败。</p> <h4 id=_112>防止软件服务器过载<a class=headerlink href=#_112 title="Permanent link">&para;</a></h4> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>这里为了描述这个场景，简化了一些细节，[75]但是这里很好地展现了重试是如何摧毁一个系统的。</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>● 一定要使用随机化的、指数型递增的重试周期。</p> <h4 id=_113>慢启动和冷缓存<a class=headerlink href=#_113 title="Permanent link">&para;</a></h4> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>例如，如果一个前端需要和后端通信，但是猜错了后端任务，后端不会代理请求给正确的后端，而是通过返回错误使得前端在正确的后端任务上重试它的请求。</p> <h4 id=_114>连锁故障的触发条件<a class=headerlink href=#_114 title="Permanent link">&para;</a></h4> <h4 id=_115>连锁故障的测试<a class=headerlink href=#_115 title="Permanent link">&para;</a></h4> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>遇到错误时使用随机化的指数型延迟进行重试。</p> <h4 id=_116>解决连锁故障的立即步骤<a class=headerlink href=#_116 title="Permanent link">&para;</a></h4> <h4 id=_117>小结<a class=headerlink href=#_117 title="Permanent link">&para;</a></h4> <h3 id=23>第23章 管理关键状态：利用分布式共识来提高可靠性<a class=headerlink href=#23 title="Permanent link">&para;</a></h3> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>该系统是分布式计算中的一个基本元素，几乎是Google所有服务都依赖的一个底层系统。</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>CAP理论（参见文献[Fox99]和[Bre12]）论述了一个分布式系统不可能同时满足以下三个要求： ● 每个节点上所见数据是一致的。 ● 每个节点都可以访问数据。 ● 可以承受网络分区问题（参见文献[Gil02]）。</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>系统工程师和软件工程师都很熟悉传统的ACID数据存储语义（原子性、一致性、隔离性和持久性），但是越来越多的分布式数据存储开始提供另外一套不同的语义，称之为BASE—基本可用、软状态、最终一致性（basically available、soft state、eventual consistency）。</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>常常是简单的“最后操作为准”）来解决冲突。</p> <p>时钟漂移</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>Jeff Shute（参见文献[Shu13]）曾经说过，“我们发现开发者通常花费了大量的时间构建一个极为复杂和容易出错的机制来应对最终一致性下可能过时的数据。我们认为对开发者来说这是一种无法接受的负担，数据一致性的问题应该在数据库层解决。”</p> <h4 id=_118>使用共识系统的动力：分布式系统协调失败<a class=headerlink href=#_118 title="Permanent link">&para;</a></h4> <p>谣言协议</p> <h4 id=_119>分布式共识是如何工作的<a class=headerlink href=#_119 title="Permanent link">&para;</a></h4> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>拜占庭式问题指的是当某个进程由于程序Bug或者恶意行为发送不正确的消息的问题，这种问题相对来说处理成本更高，同时也更少见。</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>在不稳定的网络条件下，没有任何一种异步式分布式共识算法可以保证一定能够达成共识。</p> <h4 id=_120>分布式共识的系统架构模式<a class=headerlink href=#_120 title="Permanent link">&para;</a></h4> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>分布式共识算法是很底层、很原始的：它们仅仅可以让一组节点一次共同接受同一个值，这并不能很好地跟我们的设计任务相对应。</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>真正使得分布式共识系统有用的是那些高级的系统组件，如数据存储、配置存储、队列、锁机制和领头人选举服务。这些基本的有实际意义的服务是分布式共识算法没有提供的。</p> <p><mark>TIL</mark></p> <blockquote> <p>复制状态机</p> </blockquote> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>时间戳在分布式系统中问题非常大，因为在多个物理机器上保证时间同步是不可能的。</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>屏障（barrier）在分布式计算中是一种原语，可以用来阻挡一组进程继续工作，直到某种条件被满足（例如，直到某个计算的第一阶段全部完成时，再继续进行）。</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>原子性广播是分布式系统的一个原语，意思是整个系统的参与者都可以可靠地接收到消息，并且以同样的顺序来处理这些消息。</p> <h4 id=_121>分布式共识系统的性能问题<a class=headerlink href=#_121 title="Permanent link">&para;</a></h4> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>系统负载（workload）可能会从多个维度大幅变动，理解负载变动的范围与特点是讨论系统性能的关键</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>往返周期（RTT）</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>这种强势领头人在很多共识协议中都适用，在系统需要传递大量消息的时候非常合适。</p> <p>一旦收到多数参与者的回应（包括提议者自己）后，</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>“提议者决斗”的状况。在这种状况下，两个提议者不停地打断对方，使得没有一个新的提议可以被成功接收</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>该系统使用一个原子性的“比较”然后“设置”操作进行状态修改（受原子性寄存器的启发）。</p> <h4 id=_122>分布式共识系统的部署<a class=headerlink href=#_122 title="Permanent link">&para;</a></h4> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>一般来说，共识系统都要采用“大多数”的法定过程。也就是说，一组2f+1副本组成的共识组可以同时承受f个副本失败而继续运行（如果需要容忍拜占庭式失败，也就是要能够承受副本返回错误结果的情况，则需要3f+1个副本来承受f个副本失败（参看文献[Cas99]））。</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>理论性的论文常常指出共识系统可以用来构建一个分布式日志，但是却不会讨论如何应对某个崩溃后又恢复的副本（这些副本可能缺少某一段共识信息）或者是某个速度慢的副本。</p> <h4 id=_123>对分布式共识系统的监控<a class=headerlink href=#_123 title="Permanent link">&para;</a></h4> <h4 id=_124>小结<a class=headerlink href=#_124 title="Permanent link">&para;</a></h4> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>每当读者见到领头人选举、关键共享状态，或者分布式锁的时候，一定要想起分布式共识：任何其他的方案都是系统中的一枚定时炸弹，随时可能爆炸。</p> <h3 id=24>第24章 分布式周期性任务系统<a class=headerlink href=#24 title="Permanent link">&para;</a></h3> <h4 id=cron>Cron<a class=headerlink href=#cron title="Permanent link">&para;</a></h4> <h4 id=cron_1>Cron任务和幂等性<a class=headerlink href=#cron_1 title="Permanent link">&para;</a></h4> <h4 id=cron_2>大规模Cron系统<a class=headerlink href=#cron_2 title="Permanent link">&para;</a></h4> <h4 id=google-cron>Google Cron系统的构建过程<a class=headerlink href=#google-cron title="Permanent link">&para;</a></h4> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>领头人进程是唯一一个主动启动Cron任务的进程。</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>Paxos 基本上是一个只能新增的日志，在每次状态变化后同步地新增</p> <p>提供一个例子：如果我们的状态变化存储在日志中的时候是“将某个计数器加1”，那么在1000次迭代之后，可以用一个“将计数器设置为1000”来替代1000条记录。</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>惊群效应（thundering herd）</p> <h4 id=_125>小结<a class=headerlink href=#_125 title="Permanent link">&para;</a></h4> <h3 id=25>第25章 数据处理流水线<a class=headerlink href=#25 title="Permanent link">&para;</a></h3> <h4 id=_126>流水线设计模式的起源<a class=headerlink href=#_126 title="Permanent link">&para;</a></h4> <h4 id=_127>简单流水线设计模式与大数据<a class=headerlink href=#_127 title="Permanent link">&para;</a></h4> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>一个数据流水线中串联的程序数量多少称为该流水线的深度（depth）。</p> <h4 id=_128>周期性流水线模式的挑战<a class=headerlink href=#_128 title="Permanent link">&para;</a></h4> <h4 id=_129>工作分发不均造成的问题<a class=headerlink href=#_129 title="Permanent link">&para;</a></h4> <h4 id=_130>分布式环境中周期性数据流水线的缺点<a class=headerlink href=#_130 title="Permanent link">&para;</a></h4> <h4 id=google-workflow>Google Workflow简介<a class=headerlink href=#google-workflow title="Permanent link">&para;</a></h4> <h4 id=workflow>Workflow中的执行阶段<a class=headerlink href=#workflow title="Permanent link">&para;</a></h4> <p>于是，我们可以在任何一个阶段很容易地实现 Mapping、Shuffling、排序、分割以及合并等操作。</p> <h4 id=_131>保障业务的持续性<a class=headerlink href=#_131 title="Permanent link">&para;</a></h4> <h4 id=_132>小结<a class=headerlink href=#_132 title="Permanent link">&para;</a></h4> <h3 id=26>第26章 数据完整性：读写一致<a class=headerlink href=#26 title="Permanent link">&para;</a></h3> <p>我们可以说数据完整性是指数据存储为了提供一个合理的服务质量，在可访问性和准确性方面必须达到的一个度量标准。但是这种定义是不全面的。</p> <h4 id=_133>数据完整性的强需求<a class=headerlink href=#_133 title="Permanent link">&para;</a></h4> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>很多云应用程序都是在基于ACID[87]和BASE[88]某种组合的API上不停地演变来满足上述5个要求的。</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>就像一句流行语说的那样：没有人真的想要备份数据，他们只想恢复数据。</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>备份与存档最重要的区别就是，备份是可以直接被应用程序重新加载的。</p> <h4 id=google-sre_1>保障数据完整性和可用性：Google SRE的目标<a class=headerlink href=#google-sre_1 title="Permanent link">&para;</a></h4> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>从用户的角度来看，仅仅保障数据完整性，而没有保障数据的可用性是没有意义的。</p> <h4 id=google-sre_2>Google SRE保障数据完整性的手段<a class=headerlink href=#google-sre_2 title="Permanent link">&para;</a></h4> <p>分析校验器为何失败也需要很多精力。造成某项间断性不一致情况的原因可能在几分钟、几小时或者几天之内消失。因此，快速定位校验日志中的问题是非常关键的。成熟的Google服务给on-call工程师提供了非常完备的文档和工具，用来定位问题。例如，Gmail提供给on-call工程师的有： ● 一系列Playbook文章讲述如何应对某种校验失败的报警。 ● 类似BigQuery的查询工具。 ● 数据校验监控台。 一个有效的带外数据校验系统需要下列元素： ● 校验任务的管理。</p> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>一个有效的带外数据校验系统需要下列元素： ● 校验任务的管理。 ● 监控、报警和监控台页面。 ● 限速功能。 ● 调试排错工具。 ● 生产应急应对手册。 ● 校验器容易使用的数据校验API。</p> <h4 id=_134>案例分析<a class=headerlink href=#_134 title="Permanent link">&para;</a></h4> <h4 id=sre_3>SRE的基本理念在数据完整性上的应用<a class=headerlink href=#sre_3 title="Permanent link">&para;</a></h4> <h4 id=_135>小结<a class=headerlink href=#_135 title="Permanent link">&para;</a></h4> <h3 id=27>第27章 可靠地进行产品的大规模发布<a class=headerlink href=#27 title="Permanent link">&para;</a></h3> <p>不需要发布到每个使用者的电脑上。</p> <h4 id=_136>发布协调工程师<a class=headerlink href=#_136 title="Permanent link">&para;</a></h4> <h4 id=_137>建立发布流程<a class=headerlink href=#_137 title="Permanent link">&para;</a></h4> <h4 id=_138>起草一个发布检查列表<a class=headerlink href=#_138 title="Permanent link">&para;</a></h4> <p>例如，我们大部分的开发都是在主线分支上（mainline）进行的，但是发布版本是在每个发布的分支上进行的。这种方式使得在分支上修复每次发布的Bug更简单。</p> <h4 id=_139>可靠发布所需要的方法论<a class=headerlink href=#_139 title="Permanent link">&para;</a></h4> <h4 id=lce>LCE的发展<a class=headerlink href=#lce title="Permanent link">&para;</a></h4> <h4 id=_140>小结<a class=headerlink href=#_140 title="Permanent link">&para;</a></h4> <h2 id=iv>第Ⅳ部分 管理<a class=headerlink href=#iv title="Permanent link">&para;</a></h2> <h3 id=28-sreon-call>第28章 迅速培养SRE加入on-call<a class=headerlink href=#28-sreon-call title="Permanent link">&para;</a></h3> <h4 id=sre_4>新的SRE已经招聘到了，接下来怎么办<a class=headerlink href=#sre_4 title="Permanent link">&para;</a></h4> <h4 id=_141>培训初期：重体系，而非混乱<a class=headerlink href=#_141 title="Permanent link">&para;</a></h4> <h4 id=_142>培养反向工程能力和随机应变能力<a class=headerlink href=#_142 title="Permanent link">&para;</a></h4> <h4 id=on-call5>有抱负的on-call工程师的5个特点<a class=headerlink href=#on-call5 title="Permanent link">&para;</a></h4> <h4 id=on-call_2>on-call之后：通过培训的仪式感，以及日后的持续教育<a class=headerlink href=#on-call_2 title="Permanent link">&para;</a></h4> <h4 id=_143>小结<a class=headerlink href=#_143 title="Permanent link">&para;</a></h4> <h3 id=29>第29章 处理中断性任务<a class=headerlink href=#29 title="Permanent link">&para;</a></h3> <h4 id=_144>管理运维负载<a class=headerlink href=#_144 title="Permanent link">&para;</a></h4> <h4 id=_145>如何决策对中断性任务的处理策略<a class=headerlink href=#_145 title="Permanent link">&para;</a></h4> <h4 id=_146>不完美的机器<a class=headerlink href=#_146 title="Permanent link">&para;</a></h4> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>流状态（flow state[10]）是一个软件工程行业内被普遍接受、人尽皆知的理念。</p> <h3 id=30-sre>第30章 通过嵌入SRE的方式帮助团队从运维过载中恢复<a class=headerlink href=#30-sre title="Permanent link">&para;</a></h3> <h4 id=_147>第一阶段：了解服务，了解上下文<a class=headerlink href=#_147 title="Permanent link">&para;</a></h4> <h4 id=_148>第二阶段：分享背景知识<a class=headerlink href=#_148 title="Permanent link">&para;</a></h4> <h4 id=_149>第三阶段：主导改变<a class=headerlink href=#_149 title="Permanent link">&para;</a></h4> <h4 id=_150>小结<a class=headerlink href=#_150 title="Permanent link">&para;</a></h4> <h3 id=31-sre>第31章 SRE与其他团队的沟通与协作<a class=headerlink href=#31-sre title="Permanent link">&para;</a></h3> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>这就是SRE的承诺：一个专门负责可靠性的组织，拥有与产品开发团队相同的技能，以量化的方式不断改善。</p> <h4 id=_151>沟通：生产会议<a class=headerlink href=#_151 title="Permanent link">&para;</a></h4> <h4 id=sre_5>SRE的内部协作<a class=headerlink href=#sre_5 title="Permanent link">&para;</a></h4> <h4 id=sreviceroy>SRE内部的协作案例分析：Viceroy<a class=headerlink href=#sreviceroy title="Permanent link">&para;</a></h4> <h4 id=sre_6>SRE与其他部门之间的协作<a class=headerlink href=#sre_6 title="Permanent link">&para;</a></h4> <h4 id=dfpf1>案例分析：将DFP迁移到F1<a class=headerlink href=#dfpf1 title="Permanent link">&para;</a></h4> <h4 id=_152>小结<a class=headerlink href=#_152 title="Permanent link">&para;</a></h4> <h3 id=32-sre>第32章 SRE参与模式的演进历程<a class=headerlink href=#32-sre title="Permanent link">&para;</a></h3> <h4 id=sre_7>SRE 参与模式：是什么、怎么样以及为什么<a class=headerlink href=#sre_7 title="Permanent link">&para;</a></h4> <p>接手（onboarding）</p> <h4 id=prr>PRR 模型<a class=headerlink href=#prr title="Permanent link">&para;</a></h4> <h4 id=sre_8>SRE参与模型<a class=headerlink href=#sre_8 title="Permanent link">&para;</a></h4> <h4 id=prrprr>PRR：简单PRR模型<a class=headerlink href=#prrprr title="Permanent link">&para;</a></h4> <h4 id=prr_1>简单PRR模型的演进：早期参与模型<a class=headerlink href=#prr_1 title="Permanent link">&para;</a></h4> <h4 id=sre_9>不断发展的服务：框架和SRE平台<a class=headerlink href=#sre_9 title="Permanent link">&para;</a></h4> <h4 id=_153>小结<a class=headerlink href=#_153 title="Permanent link">&para;</a></h4> <h2 id=v>第Ⅴ部分 结束语<a class=headerlink href=#v title="Permanent link">&para;</a></h2> <h3 id=33>第33章 其他行业的实践经验<a class=headerlink href=#33 title="Permanent link">&para;</a></h3> <h4 id=sre_10>有其他行业背景的资深SRE<a class=headerlink href=#sre_10 title="Permanent link">&para;</a></h4> <h4 id=_154>灾难预案与演习<a class=headerlink href=#_154 title="Permanent link">&para;</a></h4> <h4 id=_155>事后总结的文化<a class=headerlink href=#_155 title="Permanent link">&para;</a></h4> <h4 id=_156>将重复性工作自动化，消除运维负载<a class=headerlink href=#_156 title="Permanent link">&para;</a></h4> <h4 id=_157>结构化和理性的决策<a class=headerlink href=#_157 title="Permanent link">&para;</a></h4> <h4 id=_158>小结<a class=headerlink href=#_158 title="Permanent link">&para;</a></h4> <h3 id=34>第34章 结语<a class=headerlink href=#34 title="Permanent link">&para;</a></h3> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>同时，SRE也应该对系统的运作原理、运维方式、故障模式以及应急处理方式非常了解—这些都是在日常工作中学到的。</p> <h2 id=a>附录A 系统可用性<a class=headerlink href=#a title="Permanent link">&para;</a></h2> <h2 id=b>附录B 生产环境运维过程中的最佳实践<a class=headerlink href=#b title="Permanent link">&para;</a></h2> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>监控系统监控系统应该仅仅有下列三种输出：紧急警报某个人必须执行某项操作。工单某个人必须在几天之内执行某种操作。日志没有人会马上看这些日志，但是以后需要的时候可以用来分析。</p> <h2 id=c>附录C 事故状态文档示范<a class=headerlink href=#c title="Permanent link">&para;</a></h2> <h2 id=d>附录D 事后总结示范<a class=headerlink href=#d title="Permanent link">&para;</a></h2> <div class="admonition note"> <p class=admonition-title>Note</p> </div> <p>所有时区都是UTC</p> <h2 id=e>附录E 发布协调检查列表<a class=headerlink href=#e title="Permanent link">&para;</a></h2> <h2 id=f>附录F 生产环境会议记录示范<a class=headerlink href=#f title="Permanent link">&para;</a></h2> <h2 id=_159>参考文献<a class=headerlink href=#_159 title="Permanent link">&para;</a></h2> <h2 id=_160>索引<a class=headerlink href=#_160 title="Permanent link">&para;</a></h2> <h2 id=_161>关于编著者<a class=headerlink href=#_161 title="Permanent link">&para;</a></h2> <h2 id=_162>封面介绍<a class=headerlink href=#_162 title="Permanent link">&para;</a></h2> <hr> <div class=md-source-date> <small> 最后更新: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2021-09-21</span> <br>创建日期: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2021-09-21</span> </small> </div> </article> </div> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../ISBN-9787121297267/ class="md-footer__link md-footer__link--prev" aria-label="上一页: ISBN-9787121297267" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> 上一页 </span> ISBN-9787121297267 </div> </div> </a> <a href=../ISBN-9787521705041/ class="md-footer__link md-footer__link--next" aria-label="下一页: ISBN-9787521705041" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> 下一页 </span> ISBN-9787521705041 </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2018 - 2021 </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-footer-social> <a href=https://github.com/hackettyu target=_blank rel=noopener title=github.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://twitter.com/HackettYu target=_blank rel=noopener title=twitter.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=spotify:user:12glou9s4691jdz6arkbb8zmn target=_blank rel=noopener title class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8zm100.7 364.9c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4zm26.9-65.6c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm31-76.2c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3z"/></svg> </a> <a href=https://hackettyu.com/todo target=_blank rel=noopener title=hackettyu.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["tabs", "navigation.tabs", "navigation.instant", "navigation.sections", "navigation.expand", "search.highlight", "search.share"], "translations": {"clipboard.copy": "\u590d\u5236", "clipboard.copied": "\u5df2\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\uff0c\\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.709b4209.min.js", "version": null}</script> <script src=../../../assets/javascripts/bundle.143c17e5.min.js></script> <script src=/js/baidu-stat.js></script> <script src=/js/termynal.js></script> <script src=/js/custom.js></script> </body> </html>